(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{23:function(e,a){e.exports="data:image/png;base64,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"},24:function(e,a,t){e.exports=t.p+"static/media/icuymaslogo.4e9241e7.png"},46:function(e,a,t){e.exports=t.p+"static/media/cuy.bc9a0821.svg"},47:function(e,a,t){e.exports=t.p+"static/media/goal.3cb17949.svg"},49:function(e,a,t){e.exports=t.p+"static/media/Salud.cc36a64d.svg"},50:function(e,a,t){e.exports=t.p+"static/media/Relaciones.c283c251.svg"},51:function(e,a,t){e.exports=t.p+"static/media/Trabajo.766eff40.svg"},54:function(e,a,t){e.exports=t.p+"static/media/libreta.2b657359.png"},65:function(e,a,t){e.exports=t(84)},77:function(e,a,t){},84:function(e,a,t){"use strict";t.r(a);var n=t(1),l=t.n(n),r=t(10),c=t.n(r),s=t(33),i=t.n(s),o=t(45),m=t(2),u=t(21),d=t(13),p=t(11),E=(t(77),t(34));var b=function(){var e=Object(n.useState)(!0),a=Object(m.a)(e,2),t=a[0],r=a[1];return t?l.a.createElement("div",{className:"wrapper vh-100 Login"},l.a.createElement("div",{className:"box"},l.a.createElement("p",{className:"title"},"Iniciar Sesi\xf3n"),l.a.createElement("form",{action:"/auth/login",method:"post"},l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:"email",name:"username",required:!0}),l.a.createElement("label",null,"Email")),l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:"password",name:"password",required:!0}),l.a.createElement("label",null,"Contrase\xf1a")),l.a.createElement("button",{className:"btn btn-primary centrado-h submit",type:"submit"},"Ingresar"),l.a.createElement("button",{onClick:function(){return window.location.href="/auth/google"},className:"btn btn-light centrado-h google"},l.a.createElement(E.a,null)," Ingresa con Google")),l.a.createElement("div",{className:"text-light"},"\xbfNo tienes una cuenta?",l.a.createElement("button",{className:"btn btn-link btn-secondary",onClick:function(){return r(!1)}},"Registrate")))):l.a.createElement("div",{className:"wrapper vh-100 Login"},l.a.createElement("div",{className:"box"},l.a.createElement("p",{className:"title"},"Registrarse"),l.a.createElement("form",{action:"/users",method:"post"},l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:"text",name:"name",required:!0}),l.a.createElement("label",null,"Nombre")),l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:"email",name:"email",required:!0}),l.a.createElement("label",null,"Email")),l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:"password",name:"password",required:!0}),l.a.createElement("label",null,"Contrase\xf1a")),l.a.createElement("button",{onClick:function(){return window.location.replace(!1)},className:"btn btn-primary centrado-h submit",type:"submit"},"Registrarse"),l.a.createElement("button",{onClick:function(){return window.location.href="/auth/google"},className:"btn btn-light centrado-h google"},l.a.createElement(E.a,null)," Ingresa con Google")),l.a.createElement("div",{className:"text-light"},"\xbfYa tienes una cuenta?",l.a.createElement("button",{className:"btn btn-link btn-secondary",onClick:function(){return r(!0)}},"Ingresa"))))},h=t(14),v=t(35),f=t(22),N=function(e){var a=Object(u.useToasts)().addToast,t=Object(n.useState)([]),r=Object(m.a)(t,2),c=r[0],s=r[1],i=Object(n.useState)([]),o=Object(m.a)(i,2),d=o[0],p=o[1],E=Object(n.useState)([]),b=Object(m.a)(E,2),N=b[0],g=b[1],y=Object(n.useState)(0),j=Object(m.a)(y,2),w=j[0],O=j[1],x=Object(n.useState)({}),k=Object(m.a)(x,2),C=k[0],A=k[1],T=Object(n.useState)([{title:"Salud",codigos:[1,2,3],subareas:["Espiritual","Fisica","Alimentacion"]},{title:"Relaciones",codigos:[4,5,6],subareas:["Yo","Nosotros","Familia"]},{title:"Trabajo",codigos:[7,8,9],subareas:["Aprendizaje","Proyectos Alternos","Trabajo Principal"]}]),S=Object(m.a)(T,2),F=S[0],B=(S[1],function(a){var t=new Date,n="".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear()),l=e.records.filter((function(e){return e.date==n})),r=a||Object(h.a)({},C),c=Object.keys(r);console.log(l,c),l.map((function(e){c.includes(e.habitTitle)&&(r[e.habitTitle]=e.value)})),A(r)});Object(n.useEffect)((function(){var a={},t=function(e,a){return e.inputType===a.inputType?0:e.inputType>a.inputType?1:-1},n=0,l=e.habits.filter((function(a){return a.isDaily&&a.subarea===F[e.area].codigos[0]})).sort(t);n+=0===l.length?0:1,l.forEach((function(e){if(void 0===a[e.title]){var t;switch(e.inputType){case"number":t=0;break;case"time":t="";break;case"checkbox":t=!1;break;default:t=""}a[e.title]=t}})),s(l),n+=0===(l=e.habits.filter((function(a){return a.isDaily&&a.subarea===F[e.area].codigos[1]})).sort(t)).length?0:1,l.forEach((function(e){if(void 0===a[e.title]){var t;switch(e.inputType){case"number":t=0;break;case"time":t="";break;case"checkbox":t=!1;break;default:t=""}a[e.title]=t}})),p(l),n+=0===(l=e.habits.filter((function(a){return a.isDaily&&a.subarea===F[e.area].codigos[2]})).sort(t)).length?0:1,l.forEach((function(e){if(void 0===a[e.title]){var t;switch(e.inputType){case"number":t=0;break;case"time":t="";break;case"checkbox":t=!1;break;default:t=""}a[e.title]=t}})),g(l),O(n),A(a),B(a)}),[F,e.area,e.habits]),Object(n.useEffect)(B,[e.records]);var D=function(e,a){console.log(e);var t=Object(h.a)({},C);t[a]=e,A(t)},L=function(a){var t=new Date,n={date:"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear()),userEmail:e.user.email,habitTitle:a,value:C[a]};console.log(C),fetch("/records",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})},M=function(t,n){if(n.length>0){var r,c=3===w&&3!==t?6:12,s=[];return 12===c&&(r=n.filter((function(e,a){return a%2===0})),s=n.filter((function(e,a){return a%2===1}))),l.a.createElement("div",{className:"col-".concat(c," subarea")},l.a.createElement("div",{className:"header"},l.a.createElement("h3",{className:"text centrado-v"},F[e.area].subareas[t-1])),l.a.createElement("div",{className:"row"},12===c?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"col-6 pr"},r.map((function(e,t){return l.a.createElement("div",{className:"habitItem",key:"1-".concat(t)},l.a.createElement("span",{className:"centrado-v d-block"},e.title),l.a.createElement("div",{className:"input centrado-v"},l.a.createElement("input",{defaultChecked:C[e.title],value:C[e.title],onBlur:function(){L(e.title),a("Registro Guardado",{appearance:"success"})},onChange:function(a){return D(a.target,e.title)},className:"centrado-h",type:e.inputType})))}))),l.a.createElement("div",{className:"col-6 pl"},s.map((function(e,t){return l.a.createElement("div",{className:"habitItem",key:"2-".concat(t)},l.a.createElement("span",{className:"centrado-v d-block"},e.title),l.a.createElement("div",{className:"input centrado-v"},l.a.createElement("input",{defaultChecked:C[e.title],value:C[e.title],onBlur:function(){L(e.title),a("Registro Guardado",{appearance:"success"})},onChange:function(a){return D(a.target,e.title)},className:"centrado-h",type:e.inputType})))})))):l.a.createElement("div",{className:"col-12 "},n.map((function(e,t){return l.a.createElement("div",{className:"habitItem",key:t},l.a.createElement("span",{className:"centrado-v d-block"},e.title),l.a.createElement("div",{className:"input centrado-v"},l.a.createElement("input",{defaultChecked:C[e.title],value:C[e.title],onBlur:function(){L(e.title),a("Registro Guardado",{appearance:"success"})},onChange:function(a){return D(a.target,e.title)},className:"centrado-h",type:e.inputType})))})))))}return""};return l.a.createElement("div",{className:" DiaryCard card"},l.a.createElement("div",{className:"card-header ".concat(0===e.area?"":"collapsed"),"data-toggle":"collapse","data-target":"#collapse".concat(e.area),"aria-expanded":"true","aria-controls":"collapse".concat(e.area),tabIndex:0},l.a.createElement("h2",{className:"centrado-v title"},F[e.area].title),l.a.createElement("div",{className:"centrado-v collapse-icon closed "},l.a.createElement(v.a,null)),l.a.createElement("div",{className:"centrado-v collapse-icon open "},l.a.createElement(v.b,null))),l.a.createElement("div",{id:"collapse".concat(e.area),className:"collapse ".concat(0===e.area?"show":""),"aria-labelledby":"heading".concat(e.area),"data-parent":"#DiaryAreas"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row subareas no-gutters"},0===c.length&&0===d.length&&0===N.length?l.a.createElement("div",{className:"col empty"},l.a.createElement("div",{className:"empty-icon centrado-h fit"},l.a.createElement(f.a,null)),l.a.createElement("h3",{className:"empty-text"},"Parece que no has creado ningun habito en esta categoria, crea uno nuevo en tu perfil. ")):l.a.createElement(l.a.Fragment,null,M(1,c),M(2,d),M(3,N))))))},g=t(15),y=t(46),j=t.n(y),w=t(47),O=t.n(w),x=function(e){var a=Object(n.useRef)(),t=Object(n.useState)({width:0,height:0}),r=Object(m.a)(t,2),c=r[0],s=r[1],i=Object(n.useState)(0),o=Object(m.a)(i,2),u=o[0],d=o[1];Object(n.useEffect)((function(){if(a.current){s({width:a.current.offsetWidth,height:50});var t=e.completed/e.total;d(t.toFixed(2))}}),[]),g.a(".progressCuy").html(""),g.a(".progressNumber").html("");var p=g.a(".progressCuy").append("svg").attr("height",c.height).attr("width",c.width).attr("y",20);p.append("rect").attr("class","bg-rect").attr("rx",10).attr("ry",10).attr("fill","#62bbc5").attr("height",15).attr("width",c.width-50).attr("x",0).attr("y",20);var E=p.append("rect").attr("class","progress-rect").attr("fill","#0e4b6e").attr("height",15).attr("width",0).attr("rx",10).attr("ry",10).attr("x",0).attr("y",20),b=p.append("image").attr("xlink:href",j.a).attr("width",30);E.transition().duration(1e3).attr("width",u*c.width-50),b.transition().duration(1e3).attr("x",u*c.width-75);p.append("image").attr("xlink:href",O.a).attr("width",30).attr("x",c.width-60).attr("y",0);var h=g.a(".progressNumber").append("svg").attr("height",100).attr("width",100);return h.append("circle").attr("fill","#0e4b6e").attr("cx",50).attr("cy",50).attr("r",50).attr("height",100).attr("width",100),h.append("text").attr("x",20).attr("y",55).attr("font-size",20).attr("fill","#FFF").text(e.completed+"/"+e.total),l.a.createElement("div",null,l.a.createElement("h1",{style:{color:"#0e4b6e"}},"Tu progreso el d\xeda de hoy"),l.a.createElement("h2",{style:{margin:"40px 0 20px 0",color:"#FFF",background:"#0e4b6e",padding:"5px"}},"Cumplimiento porcentual de tus h\xe1bitos"),l.a.createElement("div",{class:"progressCuy",ref:a},"Prrogress"),l.a.createElement("h3",null,l.a.createElement("strong",null,100*u,"%")),l.a.createElement("h2",{style:{margin:"40px 0 0 0",color:"#FFF",background:"#0e4b6e",padding:"5px"}},"Cumplimiento de tus h\xe1bitos"),l.a.createElement("div",{class:"progressNumber",style:{margin:"20px 0 0 0"}}),l.a.createElement("p",{style:{margin:"20px 0 0 0",fontSize:"18px"}},"Has completado ",l.a.createElement("strong",null,e.completed)," h\xe1bitos de tus ",l.a.createElement("strong",null,e.total)," h\xe1bitos registrados el d\xeda de hoy."))};var k=function(e){var a=Object(n.useState)(0),t=Object(m.a)(a,2),r=(t[0],t[1],Object(n.useState)(0)),c=Object(m.a)(r,2),s=(c[0],c[1]);return Object(n.useEffect)((function(){var a=new Date,t="".concat(a.getDate(),"-").concat(a.getMonth()+1,"-").concat(a.getFullYear()),n=e.records.filter((function(e){return e.date==t}));s(n.lenght)}),[]),l.a.createElement("div",{className:"Home"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 col-12 diary"},l.a.createElement("h1",{className:"titulo-seccion"},"Registro tus logros diarios"),l.a.createElement("div",{className:"accordion",id:"DiaryAreas"},l.a.createElement(N,{area:0,user:e.user,habits:e.habits,records:e.records}),l.a.createElement(N,{area:1,user:e.user,habits:e.habits,records:e.records}),l.a.createElement(N,{area:2,user:e.user,habits:e.habits,records:e.records}))),l.a.createElement("div",{className:"col-md-6 col-12"},l.a.createElement(x,{completed:3,total:5}))))},C=t(23),A=t.n(C),T=t(48);var S=function(e){var a=Object(n.useState)({title:"",description:"",isDaily:!0,userEmail:e.user.email,inputType:"number",goalValue:"",subarea:1}),t=Object(m.a)(a,2),r=(t[0],t[1]),c=Object(n.useState)(!1),s=Object(m.a)(c,2),i=s[0],o=s[1],u={title:"",description:"",isDaily:!0,userEmail:e.user.email,inputType:"number",goalValue:"",subarea:1};return l.a.createElement("div",{className:"Profile"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-3 col-12 profile"},l.a.createElement("div",{className:"card profile-info"},l.a.createElement("div",{className:"photo"},l.a.createElement("img",{className:"centrado-h",alt:"foto de perfil",src:e.user.photo?e.user.photo:A.a})),l.a.createElement("h3",{className:"name"},e.user.name),l.a.createElement("h4",{className:"email"},e.user.email),l.a.createElement("hr",null),l.a.createElement("div",{className:"stats"},l.a.createElement("div",{className:"stat"},l.a.createElement("h6",{className:"title centrado-h"},"Habitos"),l.a.createElement("p",{className:"value"},"".concat(e.habits.length>9?"":"0").concat(e.habits.length))),l.a.createElement("div",{className:"stat"},l.a.createElement("h6",{className:"title centrado-h"},"Supervisores"),l.a.createElement("p",{className:"value"},"".concat(e.spervisors.length>9?"":"0").concat(e.habits.length))),l.a.createElement("div",{className:"stat"},l.a.createElement("h6",{className:"title centrado-h"},"Pupilos"),l.a.createElement("p",{className:"value"},"".concat(e.pupils.length>9?"":"0").concat(e.habits.length)))))),l.a.createElement("div",{className:"col-md-9 col-12 board"},l.a.createElement("div",{className:"row pupils"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"header"},l.a.createElement("h2",{className:"title fit"},"Mis Pupilos"),l.a.createElement("button",{className:"add centrado-v",onClick:function(){r(u),o(!0)}},l.a.createElement(T.a,null))),l.a.createElement("div",{className:"body"},l.a.createElement("hr",null),l.a.createElement("div",{className:"row habits-list no-gutters ".concat(i?"d-none":"")},e.habits.map((function(e,a){return l.a.createElement("div",{className:"col-6 habit",key:"profile-habit-".concat(a)},l.a.createElement("div",{className:"habit-item",tabIndex:0,onClick:function(){r(e),o(!0)}},l.a.createElement("span",{className:"centrado-v title"},e.title)))})))))))))},F=t(49),B=t.n(F),D=t(50),L=t.n(D),M=t(51),Y=t.n(M),R=t(9),q=(t(78),function(e){var a=[l.a.createElement(R.g,null),l.a.createElement(R.i,null),l.a.createElement(R.a,null),l.a.createElement(R.b,null),l.a.createElement(R.f,null),l.a.createElement(R.h,null),l.a.createElement(R.e,null),l.a.createElement(R.d,null),l.a.createElement(R.c,null)],t=Object(n.useState)([{title:"Salud",codigos:[1,2,3],color:"tertiary",subareas:["Espiritual","Fisica","Alimentacion"]},{title:"Relaciones",codigos:[4,5,6],color:"primary",subareas:["Yo","Nosotros","Familia"]},{title:"Trabajo",codigos:[7,8,9],color:"quaternary",subareas:["Aprendizaje","Proyectos","Principal"]}]),r=Object(m.a)(t,2),c=r[0],s=(r[1],Object(n.useState)(!1)),i=Object(m.a)(s,2),o=i[0],u=i[1],d=Object(n.useState)(null),p=Object(m.a)(d,2),E=p[0],b=p[1],v={title:"",description:"",isDaily:!0,userEmail:e.user.email,inputType:"number",goalValue:"",unit:"",subarea:1},N=function(e,a){var t=Object(h.a)({},E);t[a]=e,b(t)},g=function(t){var n=e.habits.filter((function(e){return c[t].codigos.includes(e.subarea)})).sort((function(e,a){return e.subarea-a.subarea}));return l.a.createElement("div",{className:"card centrado-v "+c[t].color},l.a.createElement("div",{className:"card-header"},l.a.createElement("h3",{className:"m-0"},c[t].title)),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"row  no-gutters "},n.length>0?n.map((function(e,t){return l.a.createElement("div",{className:"col-6 habit",key:"habit-".concat(t)},l.a.createElement("div",{className:"habit-item ".concat(e===E?"active":""),tabIndex:0,onClick:function(){b(e)}},l.a.createElement("span",{className:"title"},e.title),l.a.createElement("div",{className:"icon fit centrado-v"},a[e.subarea-1])))})):l.a.createElement("div",{className:"col empty"},l.a.createElement("div",{className:"empty-icon centrado-h fit"},l.a.createElement(f.a,null)),l.a.createElement("h4",{className:"empty-text"},"Parece que no has creado ningun habito en esta categoria. ")))))};return l.a.createElement("div",{className:"Habit"},l.a.createElement("div",{className:"row contain"},l.a.createElement("div",{className:"col-md-7 col-12 areas"},l.a.createElement("div",{className:"row new"},l.a.createElement("button",{className:"btn btn-secondary mx-2 float-right",onClick:function(){b(v),u(!0)}},"Crear Nuevo Habito")),l.a.createElement("div",{className:"row area"},l.a.createElement("div",{className:"col-7 habits-list"},g(0)),l.a.createElement("div",{className:"col-5 cuy-img"},l.a.createElement("img",{className:"centrado",alt:"",src:B.a}))),l.a.createElement("div",{className:"row area"},l.a.createElement("div",{className:"col-5 cuy-img"},l.a.createElement("img",{className:"centrado",alt:"",src:L.a})),l.a.createElement("div",{className:"col-7 habits-list"},g(1))),l.a.createElement("div",{className:"row area"},l.a.createElement("div",{className:"col-7 habits-list"},g(2)),l.a.createElement("div",{className:"col-5 cuy-img"},l.a.createElement("img",{className:"centrado",alt:"",src:Y.a})))),l.a.createElement("div",{className:"col-md-5 col-12 info"},E?l.a.createElement("div",{className:"row details"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("h3",{className:"m-0"},o?"Nuevo Habito":"Detalles")),l.a.createElement("div",{className:"card-body"},l.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"edit"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 "},l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:"text",name:"title",required:!0,value:E.title,onChange:function(e){return N(e.target.value,"title")}}),l.a.createElement("label",null,"Nombre Corto"))),l.a.createElement("div",{className:"col-6 "},l.a.createElement("div",{className:"checkbox"},l.a.createElement("label",null,"Registro Diario"),l.a.createElement("input",{className:"centrado-h",type:"checkbox",name:"isDaily",checked:E.isDaily,onChange:function(e){return N(!E.isDaily,"isDaily")}}))),l.a.createElement("div",{className:"col-12 "},l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:"text",name:"description",required:!0,value:E.description,onChange:function(e){return N(e.target.value,"description")}}),l.a.createElement("label",null,"Descripcion Habito"))),l.a.createElement("div",{className:"col-4 "},l.a.createElement("div",{className:"inputBox"},l.a.createElement("label",{className:"no-animate"},"Tipo de Registro"),l.a.createElement("select",{name:"inputType",required:!0,value:E.inputType,onChange:function(e){N("","goalValue"),N(e.target.value,"inputType")}},l.a.createElement("option",{value:"number"},"Numerico"),l.a.createElement("option",{value:"checkbox"},"Si/No(completado)"),l.a.createElement("option",{value:"time"},"Hora")))),"checkbox"!==E.inputType?l.a.createElement("div",{className:"col-4 "},l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:E.inputType,name:"goalValue",required:!0,value:E.goalValue,onChange:function(e){return N("number"===E.inputType?parseInt(e.target.value):e.target.value,"goalValue")}}),l.a.createElement("label",{className:"time"===E.inputType?"no-animate":""},"Objetivo"))):"","number"===E.inputType?l.a.createElement("div",{className:"col-4 "},l.a.createElement("div",{className:"inputBox"},l.a.createElement("input",{type:"text",name:"unit",required:!0,value:E.unit,onChange:function(e){return N(e.target.value,"unit")}}),l.a.createElement("label",null,"Unidad(ej.vasos)"))):"",l.a.createElement("div",{className:"col-12 mb-3"},l.a.createElement("h4",null,"Selecciona un area"),l.a.createElement("div",{className:"select-area row"},c.map((function(e){return l.a.createElement("div",{className:"col area-container "+e.color,key:"area-"+e.title},l.a.createElement("label",{className:"area-title centrado-h"},e.title),l.a.createElement("div",{className:"circle centrado-h"},e.subareas.map((function(t,n){return l.a.createElement("div",{className:"sub-area ".concat(E.subarea===e.codigos[n]?"active":""),key:"subarea-"+t,onClick:function(){return N(e.codigos[n],"subarea")}},l.a.createElement("span",null,t),l.a.createElement("div",{className:"icon fit"},a[e.codigos[n]-1]))}))))})))),l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{className:"btn btn-primary mx-2 float-right",onClick:function(){console.log(E),fetch("/habits",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(E)}).then((function(){o&&(N(null),u(!1))}))}},"Guardar"),o&&l.a.createElement("button",{className:"btn btn-medium mx-2 float-right",onClick:function(){b(null),u(!1)}},"Cancelar"))))))):l.a.createElement("h3",null,"Selecciona algun habito para ver la informacion"))))}),z=t(24),I=t.n(z);var J=function(e){var a=Object(n.useState)(Object(p.g)().pathname),t=Object(m.a)(a,1)[0];return l.a.createElement(l.a.Fragment,null,e.user.nuevo?"":l.a.createElement(l.a.Fragment,null,l.a.createElement("nav",{className:"Base"},l.a.createElement("a",{className:"logo",href:"/"},l.a.createElement("img",{className:"centrado-v",alt:"Logo iCUY",src:I.a})),l.a.createElement("div",{className:"links centrado-v"},l.a.createElement("ul",{className:"navbar-nav"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat("/platform"===t?"active":""),href:"/platform"},"Inicio")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat("/platform/profile"===t?"active":""),href:"/platform/profile"},"Perfil")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link ".concat("/platform/habits"===t?"active":""),href:"/platform/habits"},"Mis Habitos")))),l.a.createElement("ul",{className:"navbar-nav profile centrado-v"},l.a.createElement("li",{className:"nav-item dropdown"},l.a.createElement("img",{className:"profile dropdown-toggle",alt:"mini profile",src:e.user.photo?e.user.photo:A.a,role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),l.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"profileMenu"},l.a.createElement("a",{className:"dropdown-item",href:"/platform/profile"},"Mi Perfil"),l.a.createElement("a",{className:"dropdown-item",onClick:function(){return fetch("/auth/logout")},href:"/login"},"Cerrar Sesion"))))),l.a.createElement(p.d,null,l.a.createElement(p.b,{path:"/platform/profile"},l.a.createElement(S,{user:e.user,habits:e.habits})),l.a.createElement(p.b,{path:"/platform/habits"},l.a.createElement(q,{user:e.user,habits:e.habits,records:e.records})),l.a.createElement(p.b,{path:"/platform/*"},l.a.createElement(p.a,{to:"/platform"})),l.a.createElement(p.b,{path:"/platform"},l.a.createElement(k,{user:e.user,habits:e.habits,records:e.records})))))},P=t(54),V=t.n(P);var U=function(){return l.a.createElement("div",{className:"LandPage"},l.a.createElement("nav",null,l.a.createElement("a",{className:"logo",href:"/"},l.a.createElement("img",{className:"centrado-v",alt:"Logo iCUY",src:I.a})),l.a.createElement(d.b,{to:"/login"},l.a.createElement("button",{className:"btn btn-outline btn-primary main-btn centrado-v",href:"/login"},"Ingresa"))),l.a.createElement("div",{className:"intro"},l.a.createElement("div",{className:"cover"}),l.a.createElement("div",{className:"row h-100"},l.a.createElement("div",{className:"col-4"},l.a.createElement("img",{className:"centrado-v intro-img",alt:"Mascota iCUY",src:V.a})),l.a.createElement("div",{className:"col-md-8 col-12"},l.a.createElement("div",{className:"intro-text centrado"},l.a.createElement("h2",{className:"title"},"Transforma tu Vida"),l.a.createElement("p",null,"Organiza y guia tu vida para ser la mejor version de ti mismo"),l.a.createElement("h3",null,"Haz de la felicidad tu habito"),l.a.createElement(d.b,{to:"/login"},l.a.createElement("button",{className:"btn btn-primary inicio",href:"/login"},"Empieza Ya")))))),l.a.createElement("div",{className:"second"},l.a.createElement("h1",{className:"centrado-h title"},"Para que iCUY"),l.a.createElement("p",{className:"subtitle"},"Crea habitos en Salud, Relaciones y Trabajo para ayudarte a vivir una vida mas sana, feliz y satisfactoria."),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"header"},l.a.createElement("h2",null,"Facil de Usar")),l.a.createElement("div",{className:"description"},"El ciudadoso dise\xf1o de la plataforma permite a cualquier usuario usarla de la manera que desee.")),l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"header"},l.a.createElement("h2",null,"It's free")),l.a.createElement("div",{className:"description"},"El unico proposito de esta plataforma es ayudar a cualquier persona a mejorar sus vidas, por este motivo es libre de pago.")),l.a.createElement("div",{className:"col-4"},l.a.createElement("div",{className:"header"},l.a.createElement("h2",null,"Avalado por John")),l.a.createElement("div",{className:"description"},"John Guerra desarrollador y mentor aprueba esta aplicaci\xf3n (#Aprobado).")))),l.a.createElement("div",{className:"third"},l.a.createElement("h1",{className:"title"},"Metodolog\xeda Feliz"),l.a.createElement("div",{className:"step"},l.a.createElement("div",{className:"number"},l.a.createElement("div",{className:"centrado fit num"},"1")),l.a.createElement("h2",{className:"header"},"Define Tus Habitos"),l.a.createElement("p",{className:"description"},"Puedes crear todos los habitos que creas mejoraran tu vida",l.a.createElement("br",null),"Salud | Relaciones | Trabajo")),l.a.createElement("div",{className:"step"},l.a.createElement("div",{className:"number"},l.a.createElement("div",{className:"centrado fit num"},"2")),l.a.createElement("h2",{className:"header"},"Registra tus Logros"),l.a.createElement("p",{className:"description"},"A\xf1ade registros de tu progreso cada ves que puedas.")),l.a.createElement("div",{className:"step"},l.a.createElement("div",{className:"number"},l.a.createElement("div",{className:"centrado fit num"},"3")),l.a.createElement("h2",{className:"header"},"Dale Seguimiento a Tu Progreso"),l.a.createElement("p",{className:"description"},"Puedes usar el Panel visual para observar tu avance en los habitos que te has propuesto"))),l.a.createElement("div",{className:"fourth"},l.a.createElement("h1",{className:"title centrado-v"},"Listo para Mejorar"),l.a.createElement(d.b,{to:"/login"},l.a.createElement("button",{className:"btn btn-primary inicio centrado-v",href:"/login"},"Empieza Ya"))))};var Q=function(){var e=Object(n.useState)(null),a=Object(m.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(!0),s=Object(m.a)(c,2),E=s[0],h=s[1],v=Object(n.useState)([]),f=Object(m.a)(v,2),N=f[0],g=f[1],y=Object(n.useState)([]),j=Object(m.a)(y,2),w=j[0],O=j[1],x=Object(n.useState)({}),k=Object(m.a)(x,2),C=k[0],A=k[1],T=Object(n.useState)(null),S=Object(m.a)(T,2),F=S[0],B=S[1];return Object(n.useEffect)((function(){fetch("/auth/user").then((function(e){return e.json()})).then(function(){var e=Object(o.a)(i.a.mark((function e(a){var n,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(a),a&&((n=new WebSocket("ws://localhost:3001")).onopen=function(){B(n)},fetch("/habits/filter?userEmail=".concat(a.email)).then((function(e){return e.json()})).then((function(e){console.log(e),g(e)})),fetch("/records/filter?userEmail=".concat(a.email)).then((function(e){return e.json()})).then((function(e){O(e)})),a.pupils&&(l={},c=[],t.pupils.map((function(e){c.push(fetch("/habits/filter?userEmail=".concat(e.email)).then((function(e){return e.json()})).then((function(a){l[e.email]=a})))})),Promise.all(c).then((function(){A(l)})))),h(!1);case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[]),Object(n.useEffect)((function(){console.log("in socket",t,N,w,C),F&&(F.onmessage=function(e){var a=JSON.parse(e.data);if("delete"==a.operationType)switch(a.ns.coll){case"users":a.documentKey._id==t._id&&window.location.reload();break;case"habits":var n=N.filter((function(e){return e._id!=a.documentKey._id}));if(n.length<N.length)g(n);else{var l=!1,c=C.map((function(e){var t=e.filter((function(e){return e._id!=a.documentKey._id}));return t.length<e.length?(l=!0,t):e}));l&&A(c)}break;case"records":var s=w.filter((function(e){return e._id!=a.documentKey._id}));s.length<w.length&&O(s)}else if(a.fullDocument.email==t.email||a.fullDocument.userEmail==t.email)switch(console.log(a),a.ns.coll){case"users":r(a.fullDocument);break;case"habits":var i=N.filter((function(e){return e._id!=a.documentKey._id}));i.push(a.fullDocument),g(i);break;case"records":var o=w.filter((function(e){return e._id!=a.documentKey._id}));o.push(a.fullDocument),O(o)}})}),[t,N,w,C,F]),E?"":l.a.createElement(u.ToastProvider,{autoDismiss:!0,placement:"top-center"},l.a.createElement(d.a,null,l.a.createElement(p.d,null,l.a.createElement(p.b,{path:"/platform"},t?l.a.createElement(J,{user:t,habits:N,records:w}):l.a.createElement(p.a,{to:"/login"})),l.a.createElement(p.b,{path:"/login"},t?l.a.createElement(p.a,{to:"/platform"}):l.a.createElement(b,null)),l.a.createElement(p.b,{path:"/"},l.a.createElement(U,null)))))};c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Q,null)),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.51fabf97.chunk.js.map