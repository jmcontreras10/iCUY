{"version":3,"sources":["assets/user.png","assets/icuymaslogo.png","assets/cuy.svg","assets/goal.svg","assets/Salud.svg","assets/Relaciones.svg","assets/Trabajo.svg","assets/libreta.png","components/Login.js","components/DiaryCard.js","components/CuyGraph.js","components/Home.js","components/Profile.js","components/GraphNumber.js","components/GraphHour.js","components/Habit.js","components/Base.js","components/LandPage.js","App.js","index.js"],"names":["module","exports","Login","useState","registered","setRegistered","className","action","method","type","name","required","onClick","window","location","href","replace","DiaryCard","props","addToast","useToasts","first","setFisrt","second","setSecond","third","setThird","available","setAvailable","inputs","setInputs","title","codigos","subareas","areas","updateRecord","inp","d","Date","actualDate","getDate","getMonth","getFullYear","today","records","filter","ele","date","copy","keys","Object","console","log","map","includes","habitTitle","value","useEffect","sortHabits","a","b","inputType","count","data","habits","h","isDaily","subarea","area","sort","length","forEach","undefined","setInput","input","parseInt","saveHabit","send","userEmail","user","email","fetch","headers","body","JSON","stringify","defineSubarea","num","col1","tamano","col2","i","key","defaultChecked","onBlur","appearance","onChange","e","target","data-toggle","data-target","aria-expanded","aria-controls","tabIndex","id","aria-labelledby","data-parent","CuyGraph","targetRef","useRef","width","height","dimensions","setDimensions","currentState","setCurrentState","current","offsetWidth","completed","total","toFixed","d3","html","svg","append","attr","progress","cuy","img","transition","duration","imgF","svgCompl","text","ref","Home","todayH","setTodayH","style","color","margin","background","padding","fontSize","Profile","newSupervisor","setNewSupervisor","alt","src","photo","defaultPhoto","supervisors","pupils","GraphNumber","options","series","dat","habit","now","AEl","BEl","chart","xaxis","categories","record","GraphHour","Habit","icons","newHabit","setNewHabit","base","description","goalValue","unit","getHabits","group","Salud","Relaciones","Trabajo","onSubmit","preventDefault","checked","then","Base","useLocation","pathname","nuevo","logo","role","aria-haspopup","path","to","LandPage","libreta","App","setUser","loading","setLoading","setHabits","setRecords","setPupils","socket","setSocket","res","json","usr","sock","WebSocket","origin","onopen","hab","rec","pups","promises","pup","push","recs","Promise","all","onmessage","msg","parse","operationType","ns","coll","documentKey","_id","reload","habs","fullDocument","rhabs","rrecs","autoDismiss","placement","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"gFAAAA,EAAOC,QAAU,06G,mBCAjBD,EAAOC,QAAU,IAA0B,yC,mBCA3CD,EAAOC,QAAU,IAA0B,iC,mBCA3CD,EAAOC,QAAU,IAA0B,kC,mBCA3CD,EAAOC,QAAU,IAA0B,mC,mBCA3CD,EAAOC,QAAU,IAA0B,wC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,mBCA3CD,EAAOC,QAAU,IAA0B,qC,6MCqE5BC,MAnEf,WAAkB,IAAD,EACuBC,oBAAS,GADhC,mBACNC,EADM,KACMC,EADN,KAEb,OAAID,EAEI,yBAAKE,UAAU,wBACX,yBAAKA,UAAU,OACX,uBAAGA,UAAU,SAAb,qBACA,0BAAMC,OAAO,cAAcC,OAAO,QAC9B,yBAAKF,UAAU,YACX,2BAAOG,KAAK,QAAQC,KAAK,WAAWC,UAAQ,IAC5C,yCAEJ,yBAAKL,UAAU,YACX,2BAAOG,KAAK,WAAWC,KAAK,WAAWC,UAAQ,IAC/C,iDAEJ,4BAAQL,UAAU,oCAAoCG,KAAK,UAA3D,YAIA,4BAAQG,QAAS,kBAAMC,OAAOC,SAASC,KAAO,gBAAgBT,UAAU,mCACpE,kBAAC,IAAD,MADJ,wBAIJ,yBAAKA,UAAU,cAAf,4BAEI,4BAAQA,UAAU,6BAA6BM,QAAS,kBAAMP,GAAc,KAA5E,iBAOZ,yBAAKC,UAAU,wBACX,yBAAKA,UAAU,OACX,uBAAGA,UAAU,SAAb,eACA,0BAAMC,OAAO,SAASC,OAAO,QACzB,yBAAKF,UAAU,YACX,2BAAOG,KAAK,OAAOC,KAAK,OAAOC,UAAQ,IACvC,0CAEJ,yBAAKL,UAAU,YACX,2BAAOG,KAAK,QAAQC,KAAK,QAAQC,UAAQ,IACzC,yCAEJ,yBAAKL,UAAU,YACX,2BAAOG,KAAK,WAAWC,KAAK,WAAWC,UAAQ,IAC/C,iDAGJ,4BAAQC,QAAS,kBAAKC,OAAOC,SAASE,SAAQ,IAAQV,UAAU,oCAAoCG,KAAK,UAAzG,eAIA,4BAAQG,QAAS,kBAAMC,OAAOC,SAASC,KAAO,gBAAgBT,UAAU,mCACpE,kBAAC,IAAD,MADJ,wBAIJ,yBAAKA,UAAU,cAAf,4BAEA,4BAAQA,UAAU,6BAA6BM,QAAS,kBAAIP,GAAc,KAA1E,e,wBCmPLY,EA5SG,SAACC,GAAW,IAClBC,EAAaC,sBAAbD,SADiB,EAEChB,mBAAS,IAFV,mBAElBkB,EAFkB,KAEXC,EAFW,OAGGnB,mBAAS,IAHZ,mBAGlBoB,EAHkB,KAGVC,EAHU,OAICrB,mBAAS,IAJV,mBAIlBsB,EAJkB,KAIXC,EAJW,OAKSvB,mBAAS,GALlB,mBAKlBwB,EALkB,KAKPC,EALO,OAMGzB,mBAAS,IANZ,mBAMlB0B,EANkB,KAMVC,EANU,OAOC3B,mBAAS,CAC/B,CACI4B,MAAO,QACPC,QAAS,CAAC,EAAG,EAAG,GAChBC,SAAU,CACN,aACA,SACA,iBAGR,CACIF,MAAO,aACPC,QAAS,CAAC,EAAG,EAAG,GAChBC,SAAU,CACN,KACA,WACA,YAGR,CACIF,MAAO,UACPC,QAAS,CAAC,EAAG,EAAG,GAChBC,SAAU,CACN,cACA,qBACA,wBAhCa,mBAOlBC,EAPkB,KAqCnBC,GArCmB,KAqCJ,SAACC,GAClB,IAAIC,EAAI,IAAIC,KACRC,EAAU,UAAMF,EAAEG,UAAR,YAAqBH,EAAEI,WAAa,EAApC,YAAyCJ,EAAEK,eACrDC,EAAQzB,EAAM0B,QAAQC,QAAO,SAAAC,GAAG,OAAIA,EAAIC,MAAQR,KAChDS,EAAOZ,GAAG,eAAcP,GACxBoB,EAAOC,OAAOD,KAAKD,GACvBG,QAAQC,IAAIT,EAAOM,GACnBN,EAAMU,KAAI,SAACP,GACHG,EAAKK,SAASR,EAAIS,cAClBP,EAAKF,EAAIS,YAAcT,EAAIU,UAGnC1B,EAAUkB,KAEdS,qBAAU,WACN,IAAIT,EAAO,GACPU,EAAa,SAACC,EAAGC,GACjB,OAAID,EAAEE,YAAcD,EAAEC,UACX,EACJF,EAAEE,UAAYD,EAAEC,UAAY,GAAK,GAExCC,EAAQ,EACRC,EAAO7C,EAAM8C,OACZnB,QAAO,SAAAoB,GAAC,OAAIA,EAAEC,SAAWD,EAAEE,UAAYjC,EAAMhB,EAAMkD,MAAMpC,QAAQ,MACjEqC,KAAKX,GACVI,GAAyB,IAAhBC,EAAKO,OAAe,EAAI,EACjCP,EAAKQ,SAAQ,SAAAzB,GACT,QAAwB0B,IAApBxB,EAAKF,EAAIf,OAAsB,CAC/B,IAAIyB,EACJ,OAAQV,EAAIe,WACR,IAAK,SACDL,EAAQ,EACR,MACJ,IAAK,OACDA,EAAQ,GACR,MAEJ,IAAK,WACDA,GAAQ,EACR,MACJ,QACIA,EAAQ,GAGhBR,EAAKF,EAAIf,OAASyB,MAG1BlC,EAASyC,GAITD,GAAyB,KAHzBC,EAAO7C,EAAM8C,OACRnB,QAAO,SAAAoB,GAAC,OAAIA,EAAEC,SAAWD,EAAEE,UAAYjC,EAAMhB,EAAMkD,MAAMpC,QAAQ,MACjEqC,KAAKX,IACIY,OAAe,EAAI,EACjCP,EAAKQ,SAAQ,SAAAzB,GACT,QAAwB0B,IAApBxB,EAAKF,EAAIf,OAAsB,CAC/B,IAAIyB,EACJ,OAAQV,EAAIe,WACR,IAAK,SACDL,EAAQ,EACR,MACJ,IAAK,OACDA,EAAQ,GACR,MAEJ,IAAK,WACDA,GAAQ,EACR,MACJ,QACIA,EAAQ,GAGhBR,EAAKF,EAAIf,OAASyB,MAG1BhC,EAAUuC,GAIVD,GAAyB,KAHzBC,EAAO7C,EAAM8C,OACRnB,QAAO,SAAAoB,GAAC,OAAIA,EAAEC,SAAWD,EAAEE,UAAYjC,EAAMhB,EAAMkD,MAAMpC,QAAQ,MACjEqC,KAAKX,IACIY,OAAe,EAAI,EACjCP,EAAKQ,SAAQ,SAAAzB,GACT,QAAwB0B,IAApBxB,EAAKF,EAAIf,OAAsB,CAC/B,IAAIyB,EACJ,OAAQV,EAAIe,WACR,IAAK,SACDL,EAAQ,EACR,MACJ,IAAK,OACDA,EAAQ,GACR,MAEJ,IAAK,WACDA,GAAQ,EACR,MACJ,QACIA,EAAQ,GAGhBR,EAAKF,EAAIf,OAASyB,MAG1B9B,EAASqC,GACTnC,EAAakC,GACbhC,EAAUkB,GACVb,EAAaa,KACd,CAACd,EAAOhB,EAAMkD,KAAMlD,EAAM8C,SAE7BP,oBAAUtB,EAAc,CAACjB,EAAM0B,UAG/B,IAAM6B,EAAW,SAACC,EAAO3C,GACrB,IAAIiB,EAAI,eAAQnB,GAChB,OAAQ6C,EAAMjE,MACV,IAAK,SACDuC,EAAKjB,GAAS4C,SAASD,EAAMlB,OAC7B,MACJ,IAAK,WACDR,EAAKjB,IAAUiB,EAAKjB,GACpB,MAEJ,QACIiB,EAAKjB,GAAS2C,EAAMlB,MAG5BL,QAAQC,IAAI,YAAasB,EAAO1B,GAEhClB,EAAUkB,IAER4B,EAAY,SAAC7C,GACf,IAAIM,EAAI,IAAIC,KACRuC,EAAO,CACP9B,KAAK,GAAD,OAAKV,EAAEG,UAAP,YAAoBH,EAAEI,WAAa,EAAnC,YAAwCJ,EAAEK,eAC9CoC,UAAW5D,EAAM6D,KAAKC,MACtBzB,WAAYxB,EACZyB,MAAO3B,EAAOE,IAElBoB,QAAQC,IAAIvB,GACZoD,MAAM,WAAY,CACdzE,OAAQ,OACR0E,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUR,MAIvBS,EAAgB,SAACC,EAAKxB,GACxB,GAAIA,EAAKO,OAAS,EAAG,CACjB,IACIkB,EADAC,EAAwB,IAAd9D,GAA2B,IAAR4D,EAAa,EAAI,GACxCG,EAAO,GAKjB,OAJe,KAAXD,IACAD,EAAOzB,EAAKlB,QAAO,SAACC,EAAK6C,GAAN,OAAYA,EAAI,IAAM,KACzCD,EAAO3B,EAAKlB,QAAO,SAACC,EAAK6C,GAAN,OAAYA,EAAI,IAAM,MAGzC,yBAAKrF,UAAS,cAASmF,EAAT,aACV,yBAAKnF,UAAU,UACX,wBAAIA,UAAU,mBACT4B,EAAMhB,EAAMkD,MAAMnC,SAASsD,EAAM,KAG1C,yBAAKjF,UAAU,OAEI,KAAXmF,EACI,oCACI,yBAAKnF,UAAU,YAEPkF,EAAKnC,KAAI,SAACP,EAAK6C,GACX,OACI,yBAAKrF,UAAU,YAAYsF,IAAG,YAAOD,IACjC,0BAAMrF,UAAU,sBACXwC,EAAIf,OAET,yBAAKzB,UAAU,oBACX,2BAAOuF,eAAgBhE,EAAOiB,EAAIf,OAAQyB,MAAO3B,EAAOiB,EAAIf,OAAQ+D,OAAQ,WAAQlB,EAAU9B,EAAIf,OAAQZ,EAAS,oBAAqB,CAAE4E,WAAY,aAAgBC,SAAU,SAAAC,GAAC,OAAIxB,EAASwB,EAAEC,OAAQpD,EAAIf,QAAQzB,UAAU,aAAaG,KAAMqC,EAAIe,kBAO7Q,yBAAKvD,UAAU,YAEPoF,EAAKrC,KAAI,SAACP,EAAK6C,GACX,OACI,yBAAKrF,UAAU,YAAYsF,IAAG,YAAOD,IACjC,0BAAMrF,UAAU,sBACXwC,EAAIf,OAET,yBAAKzB,UAAU,oBACX,2BAAOuF,eAAgBhE,EAAOiB,EAAIf,OAAQyB,MAAO3B,EAAOiB,EAAIf,OAAQ+D,OAAQ,WAAQlB,EAAU9B,EAAIf,OAAQZ,EAAS,oBAAqB,CAAE4E,WAAY,aAAgBC,SAAU,SAAAC,GAAC,OAAIxB,EAASwB,EAAEC,OAAQpD,EAAIf,QAAQzB,UAAU,aAAaG,KAAMqC,EAAIe,mBAS7Q,yBAAKvD,UAAU,WAEPyD,EAAKV,KAAI,SAACP,EAAK6C,GACX,OACI,yBAAKrF,UAAU,YAAYsF,IAAKD,GAC5B,0BAAMrF,UAAU,sBACXwC,EAAIf,OAET,yBAAKzB,UAAU,oBACX,2BAAOuF,eAAgBhE,EAAOiB,EAAIf,OAAQyB,MAAO3B,EAAOiB,EAAIf,OAAQ+D,OAAQ,WAAQlB,EAAU9B,EAAIf,OAAQZ,EAAS,oBAAqB,CAAE4E,WAAY,aAAgBC,SAAU,SAAAC,GAAC,OAAIxB,EAASwB,EAAEC,OAAQpD,EAAIf,QAAQzB,UAAU,aAAaG,KAAMqC,EAAIe,oBAazS,MAAO,IAEX,OACI,yBAAKvD,UAAU,mBACX,yBAAKA,UAAS,sBAAgC,IAAfY,EAAMkD,KAAa,GAAK,aAAe+B,cAAY,WAAWC,cAAA,mBAAyBlF,EAAMkD,MAAQiC,gBAAc,OAAOC,gBAAA,kBAA0BpF,EAAMkD,MAAQmC,SAAU,GACvM,wBAAIjG,UAAU,oBACT4B,EAAMhB,EAAMkD,MAAMrC,OAEvB,yBAAKzB,UAAU,oCACX,kBAAC,IAAD,OAEJ,yBAAKA,UAAU,kCACX,kBAAC,IAAD,QAGR,yBAAKkG,GAAE,kBAAatF,EAAMkD,MAAQ9D,UAAS,mBAA6B,IAAfY,EAAMkD,KAAa,OAAS,IAAMqC,kBAAA,iBAA2BvF,EAAMkD,MAAQsC,cAAY,eAE5I,yBAAKpG,UAAU,aACX,yBAAKA,UAAU,2BAEU,IAAjBe,EAAMiD,QAAkC,IAAlB/C,EAAO+C,QAAiC,IAAjB7C,EAAM6C,OAC/C,yBAAKhE,UAAU,aACX,yBAAKA,UAAU,6BACX,kBAAC,IAAD,OAEJ,wBAAIA,UAAU,cAAd,4FAGJ,oCACKgF,EAAc,EAAGjE,GACjBiE,EAAc,EAAG/D,GACjB+D,EAAc,EAAG7D,S,0CC7LvCkF,EAhGE,SAACzF,GAEd,IAAM0F,EAAYC,mBAFM,EAGY1G,mBAAS,CAAE2G,MAAO,EAAGC,OAAQ,IAHzC,mBAGjBC,EAHiB,KAGLC,EAHK,OAIgB9G,mBAAS,GAJzB,mBAIjB+G,EAJiB,KAIHC,EAJG,KAMxB1D,qBAAU,WACN,GAAImD,EAAUQ,UACVH,EAAc,CACVH,MAAOF,EAAUQ,QAAQC,YACzBN,OAAQ,KAEZ5D,QAAQC,IAAIlC,EAAMoG,UAAWpG,EAAMqG,YACX/C,IAApBtD,EAAMoG,gBAA2C9C,IAAhBtD,EAAMqG,OAAoB,CAC/D,IAAM5D,EAAIzC,EAAMoG,UAAYpG,EAAMqG,MAClCJ,EAAgBxD,EAAE6D,QAAQ,OAG/B,CAACtG,EAAMoG,UAAWpG,EAAMqG,QAE3BE,IAAU,gBAAgBC,KAAK,IAC/BD,IAAU,mBAAmBC,KAAK,IAElC,IAAMC,EAAMF,IAAU,gBACjBG,OAAO,OACPC,KAAK,SAAUb,EAAWD,QAC1Bc,KAAK,QAASb,EAAWF,OACzBe,KAAK,IAAK,IAEfF,EAAIC,OAAO,QACNC,KAAK,QAAS,WACdA,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,OAAQ,WACbA,KAAK,SAAU,IACfA,KAAK,QAASb,EAAWF,MAAQ,IACjCe,KAAK,IAAK,GACVA,KAAK,IAAK,IAEf,IAAMC,EAAWH,EAAIC,OAAO,QACvBC,KAAK,QAAS,iBACdA,KAAK,OAAQ,WACbA,KAAK,SAAU,IACfA,KAAK,QAAS,GACdA,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,IAAK,GACVA,KAAK,IAAK,IAETE,EAAMJ,EAAIC,OAAO,SAClBC,KAAK,aAAcG,KACnBH,KAAK,QAAS,IAEnBC,EAASG,aACJC,SAAS,KACTL,KAAK,QAASX,EAAeF,EAAWF,MAAQ,IAErDiB,EAAIE,aACCC,SAAS,KACTL,KAAK,IAAKX,EAAeF,EAAWF,MAAQ,IAEpCa,EAAIC,OAAO,SACnBC,KAAK,aAAcM,KACnBN,KAAK,QAAS,IACdA,KAAK,IAAKb,EAAWF,MAAQ,IAC7Be,KAAK,IAAK,GAJf,IAMMO,EAAWX,IAAU,mBACtBG,OAAO,OACPC,KAAK,SAAU,KACfA,KAAK,QAAS,KAiBnB,OAfAO,EAASR,OAAO,UACXC,KAAK,OAAQ,WACbA,KAAK,KAAM,IACXA,KAAK,KAAM,IACXA,KAAK,IAAK,IACVA,KAAK,SAAU,KACfA,KAAK,QAAS,KAEnBO,EAASR,OAAO,QACXC,KAAK,IAAK,IACVA,KAAK,IAAK,IACVA,KAAK,YAAa,IAClBA,KAAK,OAAQ,QACbQ,KAAKnH,EAAMoG,UAAY,IAAMpG,EAAMqG,OAGpC,oCACI,yBAAKjH,UAAU,cAAcgI,IAAK1B,GAAlC,YACA,4BAAI,4CAAiC,IAAfM,EAAlB,QC/CDqB,MA3Cf,SAAcrH,GAAQ,IAAD,EAEWf,mBAAS,GAFpB,gCAGWA,mBAAS,IAHpB,mBAGVqI,EAHU,KAGFC,EAHE,KAcjB,OATAhF,qBAAU,WACN,IAAIpB,EAAI,IAAIC,KACRC,EAAU,UAAMF,EAAEG,UAAR,YAAqBH,EAAEI,WAAa,EAApC,YAAyCJ,EAAEK,eACrDC,EAAQzB,EAAM0B,QAAQC,QAAO,SAAAC,GAAG,OAAIA,EAAIC,MAAQR,KACpDY,QAAQC,IAAIT,GACZ8F,EAAU9F,EAAM2B,UAClB,CAACpD,EAAM0B,UAIL,yBAAKtC,UAAU,QACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,yBACX,wBAAIA,UAAU,kBAAd,+BACA,yBAAKA,UAAU,YAAYkG,GAAG,cAC1B,kBAAC,EAAD,CAAWpC,KAAM,EAAGW,KAAM7D,EAAM6D,KAAMf,OAAQ9C,EAAM8C,OAAQpB,QAAS1B,EAAM0B,UAC3E,kBAAC,EAAD,CAAWwB,KAAM,EAAGW,KAAM7D,EAAM6D,KAAMf,OAAQ9C,EAAM8C,OAAQpB,QAAS1B,EAAM0B,UAC3E,kBAAC,EAAD,CAAWwB,KAAM,EAAGW,KAAM7D,EAAM6D,KAAMf,OAAQ9C,EAAM8C,OAAQpB,QAAS1B,EAAM0B,YAGnF,yBAAKtC,UAAU,mBACX,6BACI,wBAAIoI,MAAO,CAAEC,MAAO,YAApB,gCACA,wBAAID,MAAO,CAAEE,OAAQ,gBAAiBD,MAAO,OAAQE,WAAY,UAAWC,QAAS,QAArF,6CACA,kBAAC,EAAD,CAAUxB,UAAWkB,EAAQjB,MAAOrG,EAAM8C,OAAOM,SACjD,uBAAGoE,MAAO,CAAEE,OAAQ,aAAcG,SAAU,SAA5C,kBAAqE,gCAASP,GAA9E,sBAA8G,gCAAStH,EAAM8C,OAAOM,QAApI,kD,yBCwGT0E,MApIf,SAAiB9H,GAAQ,IAAD,EACsBf,oBAAS,GAD/B,mBACb8I,EADa,KACEC,EADF,KAcpB,OACI,yBAAK5I,UAAU,WACX,yBAAKA,UAAU,aACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,oCACX,yBAAKA,UAAU,qBACX,yBAAKA,UAAU,oBACX,yBAAK6I,IAAI,iBAAiBC,IAAKlI,EAAM6D,KAAKsE,MAAQnI,EAAM6D,KAAKsE,MAAQC,OAEzE,wBAAIhJ,UAAU,QAAQY,EAAM6D,KAAKrE,MACjC,wBAAIJ,UAAU,SAASY,EAAM6D,KAAKC,OAClC,6BACA,yBAAK1E,UAAU,cACX,yBAAKA,UAAU,YACX,wBAAIA,UAAU,oBAAd,WACA,uBAAGA,UAAU,SAAb,UAAyBY,EAAM8C,OAAOM,OAAS,EAAI,GAAK,KAAxD,OAA8DpD,EAAM8C,OAAOM,UAE/E,yBAAKhE,UAAU,YACX,wBAAIA,UAAU,oBAAd,gBACA,uBAAGA,UAAU,SAAb,UAAyBY,EAAM6D,KAAKwE,YAAYjF,OAAS,EAAI,GAAK,KAAlE,OAAwEpD,EAAM6D,KAAKwE,YAAYjF,UAEnG,yBAAKhE,UAAU,YACX,wBAAIA,UAAU,oBAAd,WACA,uBAAGA,UAAU,SAAb,UAAyBY,EAAM6D,KAAKyE,OAAOlF,OAAS,EAAI,GAAK,KAA7D,OAAmEpD,EAAM6D,KAAKyE,OAAOlF,aAKrG,yBAAKhE,UAAU,kCACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,QACX,yBAAKA,UAAU,UACX,wBAAIA,UAAU,aAAd,oBACA,4BAAQA,UAAU,iBAAiBM,QAAS,WAAQsI,GAAiB,KACjE,kBAAC,IAAD,QAGR,yBAAK5I,UAAU,QACX,6BACA,yBAAKA,UAAS,qCAAgC2I,EAAc,SAAS,KAE7D/H,EAAM6D,KAAKwE,YAAYjF,OAAS,EAC5BpD,EAAM6D,KAAKwE,YAAYlG,KAAI,SAACP,EAAK6C,GAC7B,OACI,yBAAKrF,UAAU,cAAcsF,IAAG,6BAAwBD,IACpD,yBAAKrF,UAAU,cACX,0BAAMA,UAAU,oBACXwC,QAOjB,yBAAKxC,UAAU,aACX,yBAAKA,UAAU,6BACX,kBAAC,IAAD,OAEJ,wBAAIA,UAAU,cAAd,yDAehC,yBAAKA,UAAU,cACX,yBAAKA,UAAU,QACX,yBAAKA,UAAU,UACX,wBAAIA,UAAU,aAAd,gBAEJ,yBAAKA,UAAU,QACX,6BACA,yBAAKA,UAAU,+BAEPY,EAAM6D,KAAKyE,OAAOlF,OAAS,EACvBpD,EAAM6D,KAAKyE,OAAOnG,KAAI,SAACP,EAAK6C,GACxB,OACI,yBAAKrF,UAAU,eAAesF,IAAG,wBAAmBD,IAChD,0BAAMrF,UAAU,UACZ,gCAASwC,IAEb,kBAAC,EAAD,CAAUwE,UAAWpG,EAAMsI,OAAO1G,GAAKF,QAAQ0B,OAAQiD,MAAOrG,EAAMsI,OAAO1G,GAAKkB,OAAOM,SACvF,iCAKR,yBAAKhE,UAAU,aACX,yBAAKA,UAAU,6BACX,kBAAC,IAAD,OAEJ,wBAAIA,UAAU,cAAd,iE,2EClEzCmJ,EAlDK,SAACvI,GAGb,IAAIwI,EACAC,EAsCR,OApCAlG,qBAAU,WAEN,IACIM,EADE6F,EAAM1I,EAAM6C,KAGd6F,EAAItF,OAAS,KACbP,EAAO6F,EAAI/G,QAAO,SAAAR,GACd,GAAGA,EAAEkB,YAAYrC,EAAM2I,OAASxH,EAAEU,KAAO,IAAIT,KAAKA,KAAKwH,MAAQ,GAC3D,OAAOzH,MAEVgC,MAAK,SAACV,EAAGC,GACV,IAAImG,EAAM,IAAIzH,KAAKqB,EAAEZ,MAAOiH,EAAM,IAAI1H,KAAKsB,EAAEb,MAC7C,OAAIgH,EAAMC,GAAa,EACnBD,EAAMC,EAAY,EACf,KAGXN,EAAU,CACNO,MAAO,CACHzD,GAAI,SAER0D,MAAO,CACHC,WAAYpG,EAAKV,KAAI,SAAA+G,GAAM,OAAIA,EAAOrH,UAI9C4G,EAAS,CAAC,CACNjJ,KAAM,SACNqD,KAAMA,EAAKV,KAAI,SAAA+G,GAAM,OAAIA,EAAO5G,cAMzC,IAGC,yBAAKlD,UAAU,+CACFkE,GAARmF,QAA4BnF,GAATkF,EAAmB,kBAAC,IAAD,CAAOA,QAASA,EAASC,OAAQA,EAAQlJ,KAAK,OAAOqG,MAAO,MAAOC,OAAQ,SAAW,gBCZ1HsD,EAjCG,SAACnJ,GAEf,IAAM6C,EAAO7C,EAAM6C,KAEnBA,EAAKM,MAAK,SAACV,EAAGC,GACV,IAAImG,EAAM,IAAIzH,KAAKqB,EAAEZ,MAAOiH,EAAM,IAAI1H,KAAKsB,EAAEb,MAC7C,OAAIgH,EAAMC,GAAa,EACnBD,EAAMC,EAAY,EACf,KAGX,IAAMN,EAAU,CACZO,MAAO,CACHzD,GAAI,SAER0D,MAAO,CACHC,WAAYpG,EAAKV,KAAI,SAAA+G,GAAM,OAAIA,EAAOrH,UAIxC4G,EAAS,CAAC,CACZjJ,KAAM,OACNqD,KAAMA,EAAKV,KAAI,SAAA+G,GAAM,OAAIA,EAAO5G,WAGpC,OACI,yBAAKlD,UAAY,0CACb,kBAAC,IAAD,CAAOoJ,QAASA,EAASC,OAAQA,EAAQlJ,KAAK,OAAOqG,MAAO,MAAOC,OAAQ,WC+QxEuD,G,MAtRD,SAACpJ,GACX,IAAMqJ,EAAQ,CACV,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,MACA,kBAAC,IAAD,OAViB,EAYKpK,mBAAS,CAC/B,CACI4B,MAAO,QACPC,QAAS,CAAC,EAAG,EAAG,GAChB2G,MAAO,WACP1G,SAAU,CACN,aACA,SACA,iBAGR,CACIF,MAAO,aACPC,QAAS,CAAC,EAAG,EAAG,GAChB2G,MAAO,UACP1G,SAAU,CACN,KACA,WACA,YAGR,CACIF,MAAO,UACPC,QAAS,CAAC,EAAG,EAAG,GAChB2G,MAAO,aACP1G,SAAU,CACN,cACA,YACA,gBAxCS,mBAYdC,EAZc,aA4CW/B,oBAAS,IA5CpB,mBA4CdqK,EA5Cc,KA4CJC,EA5CI,OA6COtK,mBAAS,MA7ChB,mBA6Cd0B,EA7Cc,KA6CNC,EA7CM,KA+Cf4I,EAAO,CACT3I,MAAO,GACP4I,YAAa,GACbzG,SAAS,EACTY,UAAW5D,EAAM6D,KAAKC,MACtBnB,UAAW,SACX+G,UAAW,GACXC,KAAM,GACN1G,QAAS,GAEPM,EAAW,SAACjB,EAAOzB,GACrB,IAAIiB,EAAI,eAAQnB,GAChBmB,EAAKjB,GAASyB,EACd1B,EAAUkB,IAeR8H,EAAY,SAACC,GACf,IAAI/G,EAAS9C,EAAM8C,OACdnB,QAAO,SAACoB,GAAD,OAAO/B,EAAM6I,GAAO/I,QAAQsB,SAASW,EAAEE,YAC9CE,MAAK,SAACV,EAAGC,GAAJ,OAAUD,EAAEQ,QAAUP,EAAEO,WAClC,OACI,yBAAK7D,UAAW,mBAAqB4B,EAAM6I,GAAOpC,OAC9C,yBAAKrI,UAAU,eACX,wBAAIA,UAAU,OAAO4B,EAAM6I,GAAOhJ,QAEtC,yBAAKzB,UAAU,aACX,yBAAKA,UAAU,oBAEP0D,EAAOM,OAAS,EACZN,EAAOX,KAAI,SAACP,EAAK6C,GACb,OACI,yBAAKrF,UAAU,cAAcsF,IAAG,gBAAWD,IACvC,yBAAKrF,UAAS,qBAAgBwC,IAAQjB,EAAS,SAAW,IAAM0E,SAAU,EAAG3F,QAAS,WAAQkB,EAAUgB,KACpG,0BAAMxC,UAAU,SACXwC,EAAIf,OAET,yBAAKzB,UAAU,uBACViK,EAAMzH,EAAIqB,QAAU,SAOzC,yBAAK7D,UAAU,aACX,yBAAKA,UAAU,6BACX,kBAAC,IAAD,OAEJ,wBAAIA,UAAU,cAAd,mEAShC,OACI,yBAAKA,UAAU,SACX,yBAAKA,UAAU,eACX,yBAAKA,UAAU,yBACX,yBAAKA,UAAU,WACX,4BAAQA,UAAU,qCAAqCM,QAAS,WAAQkB,EAAU4I,GAAOD,GAAY,KAArG,uBAIJ,yBAAKnK,UAAU,YACX,yBAAKA,UAAU,qBACVwK,EAAU,IAEf,yBAAKxK,UAAU,iBACX,yBAAKA,UAAU,WAAW6I,IAAI,GAAGC,IAAK4B,QAG9C,yBAAK1K,UAAU,YACX,yBAAKA,UAAU,iBACX,yBAAKA,UAAU,WAAW6I,IAAI,GAAGC,IAAK6B,OAE1C,yBAAK3K,UAAU,qBACVwK,EAAU,KAGnB,yBAAKxK,UAAU,YACX,yBAAKA,UAAU,qBACVwK,EAAU,IAEf,yBAAKxK,UAAU,iBACX,yBAAKA,UAAU,WAAW6I,IAAI,GAAGC,IAAK8B,SAIlD,yBAAK5K,UAAU,wBAEPuB,EACI,oCACI,yBAAKvB,UAAU,eACX,yBAAKA,UAAU,QACX,yBAAKA,UAAU,eACX,wBAAIA,UAAU,OAAOkK,EAAW,eAAiB,aAErD,yBAAKlK,UAAU,aACX,0BAAM6K,SAAU,SAAClF,GAAD,OAAOA,EAAEmF,kBAAkB9K,UAAU,QACjD,yBAAKA,UAAU,OACX,yBAAKA,UAAU,UACX,yBAAKA,UAAU,YACX,2BAAOG,KAAK,OAAOC,KAAK,QAAQC,UAAQ,EAAC6C,MAAO3B,EAAOE,MAAOiE,SAAU,SAAAC,GAAC,OAAIxB,EAASwB,EAAEC,OAAO1C,MAAO,YACtG,iDAGR,yBAAKlD,UAAU,UACX,yBAAKA,UAAU,YACX,kDACA,2BAAOA,UAAU,aAAaG,KAAK,WAAWC,KAAK,UAAU2K,QAASxJ,EAAOqC,QAAS8B,SAAU,SAAAC,GAAC,OAAIxB,GAAU5C,EAAOqC,QAAS,gBAGvI,yBAAK5D,UAAU,WACX,yBAAKA,UAAU,YACX,2BAAOG,KAAK,OAAOC,KAAK,cAAcC,UAAQ,EAAC6C,MAAO3B,EAAO8I,YAAa3E,SAAU,SAAAC,GAAC,OAAIxB,EAASwB,EAAEC,OAAO1C,MAAO,kBAClH,uDAIR,yBAAKlD,UAAU,UACX,yBAAKA,UAAU,YACX,2BAAOA,UAAU,cAAjB,oBACA,4BAAQI,KAAK,YAAYC,UAAQ,EAAC6C,MAAO3B,EAAOgC,UAAWmC,SAAU,SAAAC,GAAOxB,EAAS,GAAI,aAAcA,EAASwB,EAAEC,OAAO1C,MAAO,eAC5H,4BAAQA,MAAM,UAAd,YACA,4BAAQA,MAAM,YAAd,qBACA,4BAAQA,MAAM,QAAd,WAKa,aAArB3B,EAAOgC,UACH,yBAAKvD,UAAU,UACX,yBAAKA,UAAU,YACX,2BAAOG,KAAMoB,EAAOgC,UAAWnD,KAAK,YAAYC,UAAQ,EAAC6C,MAAO3B,EAAO+I,UAAW5E,SAAU,SAAAC,GAAC,OAAIxB,EAA8B,WAArB5C,EAAOgC,UAAyBc,SAASsB,EAAEC,OAAO1C,OAASyC,EAAEC,OAAO1C,MAAO,gBACrL,2BAAOlD,UAAgC,SAArBuB,EAAOgC,UAAuB,aAAe,IAA/D,cAGN,GAGe,WAArBhC,EAAOgC,UACH,yBAAKvD,UAAU,UACX,yBAAKA,UAAU,YACX,2BAAOG,KAAK,OAAOC,KAAK,OAAOC,UAAQ,EAAC6C,MAAO3B,EAAOgJ,KAAM7E,SAAU,SAAAC,GAAC,OAAIxB,EAASwB,EAAEC,OAAO1C,MAAO,WACpG,qDAGN,GAEV,yBAAKlD,UAAU,eACX,kDACA,yBAAKA,UAAU,mBAEP4B,EAAMmB,KAAI,SAAAe,GACN,OACI,yBAAK9D,UAAW,sBAAwB8D,EAAKuE,MAAO/C,IAAK,QAAUxB,EAAKrC,OACpE,2BAAOzB,UAAU,yBAAyB8D,EAAKrC,OAC/C,yBAAKzB,UAAU,qBAEP8D,EAAKnC,SAASoB,KAAI,SAACc,EAASwB,GACxB,OACI,yBAAKrF,UAAS,mBAAcuB,EAAOsC,UAAYC,EAAKpC,QAAQ2D,GAAK,SAAW,IAAMC,IAAK,WAAazB,EAASvD,QAAS,kBAAM6D,EAASL,EAAKpC,QAAQ2D,GAAI,aAClJ,8BAAOxB,GACP,yBAAK7D,UAAU,YACViK,EAAMnG,EAAKpC,QAAQ2D,GAAK,eAazE,yBAAKrF,UAAU,UACX,4BAAQA,UAAU,mCAAmCM,QAlLvF,WACduC,QAAQC,IAAIvB,GACZoD,MAAM,UAAW,CACbzE,OAAQ,OACR0E,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUxD,KACtByJ,MAAK,WACAd,IACA/F,EAAS,MACTgG,GAAY,SAyK4B,WAIID,GACA,4BAAQlK,UAAU,kCAAkCM,QAAS,WAAQkB,EAAU,MAAO2I,GAAY,KAAlG,kBAU5B,yBAAKnK,UAAU,aACU,UAApBuB,EAAOgC,UAAwB,kBAAC,EAAD,CAAaE,KAAM7C,EAAM0B,QAASiH,MAAOhI,EAAOE,QAC7D,QAAlBF,EAAOgC,UAAkB,kBAAC,EAAD,CAAWE,KAAM7C,EAAM0B,QAASiH,MAAOhI,EAAOE,QAAS,KAIzF,oF,iBC/MbwJ,MA/Df,SAAcrK,GAAQ,IAAD,EACEf,mBAASqL,cAAcC,UAAnC3K,EADU,oBAEjB,OACI,oCACKI,EAAM6D,KAAK2G,MAAQ,GAChB,oCACI,yBAAKpL,UAAU,QACX,uBAAGA,UAAU,OAAOS,KAAK,KACrB,yBAAKT,UAAU,aAAa6I,IAAI,YAAYC,IAAKuC,OAErD,yBAAKrL,UAAU,oBACX,wBAAIA,UAAU,cACV,wBAAIA,UAAU,YACV,uBAAGA,UAAS,mBAA2B,cAAbQ,EAA2B,SAAW,IAAMC,KAAK,aAA3E,WAEJ,wBAAIT,UAAU,YACV,uBAAGA,UAAS,mBAA2B,sBAAbQ,EAAiC,SAAS,IAAMC,KAAK,qBAA/E,WAEJ,wBAAIT,UAAU,YACV,uBAAGA,UAAS,mBAA2B,qBAAbQ,EAAkC,SAAW,IAAMC,KAAK,oBAAlF,kBAIZ,wBAAIT,UAAU,iCACV,wBAAIA,UAAU,qBACV,yBAAKA,UAAU,0BAA0B6I,IAAI,eAAeC,IAAKlI,EAAM6D,KAAKsE,MAAQnI,EAAM6D,KAAKsE,MAAQC,IAAcsC,KAAK,SAASzF,cAAY,WAAW0F,gBAAc,OAAOxF,gBAAc,UAC7L,yBAAK/F,UAAU,oCAAoCmG,kBAAgB,eAC/D,uBAAGnG,UAAU,gBAAgBS,KAAK,qBAAlC,aACA,uBAAGT,UAAU,gBAAgBM,QAAS,kBAAMqE,MAAM,iBAAiBlE,KAAK,UAAxE,qBAOhB,kBAAC,IAAD,KAII,kBAAC,IAAD,CAAO+K,KAAK,qBACR,kBAAC,EAAD,CAAS/G,KAAM7D,EAAM6D,KAAMf,OAAQ9C,EAAM8C,OAAQwF,OAAQtI,EAAMsI,UAEnE,kBAAC,IAAD,CAAOsC,KAAK,oBACR,kBAAC,EAAD,CAAO/G,KAAM7D,EAAM6D,KAAMf,OAAQ9C,EAAM8C,OAAQpB,QAAS1B,EAAM0B,WAElE,kBAAC,IAAD,CAAOkJ,KAAK,eACP,kBAAC,IAAD,CAAUC,GAAG,eAElB,kBAAC,IAAD,CAAOD,KAAK,aACR,kBAAC,EAAD,CAAM/G,KAAM7D,EAAM6D,KAAMf,OAAQ9C,EAAM8C,OAAQpB,QAAS1B,EAAM0B,e,iBCsD1EoJ,MA/Gf,WACI,OACI,yBAAK1L,UAAU,YACX,6BACI,uBAAGA,UAAU,OAAOS,KAAK,KACrB,yBAAKT,UAAU,aAAa6I,IAAI,YAAYC,IAAKuC,OAErD,kBAAC,IAAD,CAAMI,GAAG,UACL,4BAAQzL,UAAU,kDAAkDS,KAAK,UAAzE,aAKR,yBAAKT,UAAU,SACX,yBAAKA,UAAU,UACf,yBAAKA,UAAU,aACX,yBAAKA,UAAU,SACX,yBAAKA,UAAU,uBAAuB6I,IAAI,eAAeC,IAAK6C,OAElE,yBAAK3L,UAAU,mBACX,yBAAKA,UAAU,uBACX,wBAAIA,UAAU,SAAd,sBACA,4FACA,6DACJ,kBAAC,IAAD,CAAMyL,GAAG,UACL,4BAAQzL,UAAU,yBAAyBS,KAAK,UAAhD,mBAQhB,yBAAKT,UAAU,UACX,wBAAIA,UAAU,oBAAd,iBACA,uBAAGA,UAAU,YAAb,+GACA,yBAAKA,UAAU,OACX,yBAAKA,UAAU,SACX,yBAAKA,UAAU,UAEX,8CAEJ,yBAAKA,UAAU,eAAf,uGAIJ,yBAAKA,UAAU,SACX,yBAAKA,UAAU,UAEX,0CAEJ,yBAAKA,UAAU,eAAf,+HAIJ,yBAAKA,UAAU,SACX,yBAAKA,UAAU,UAEX,iDAEJ,yBAAKA,UAAU,eAAf,iFAMZ,yBAAKA,UAAU,SACX,wBAAIA,UAAU,SAAd,wBAGA,yBAAKA,UAAU,QACX,yBAAKA,UAAU,UAAS,yBAAKA,UAAU,oBAAf,MACxB,wBAAIA,UAAU,UAAd,sBAGA,uBAAGA,UAAU,eAAb,6DAEI,6BAFJ,iCAMJ,yBAAKA,UAAU,QACX,yBAAKA,UAAU,UAAS,yBAAKA,UAAU,oBAAf,MACxB,wBAAIA,UAAU,UAAd,uBAGA,uBAAGA,UAAU,eAAb,2DAIJ,yBAAKA,UAAU,QACX,yBAAKA,UAAU,UAAS,yBAAKA,UAAU,oBAAf,MACxB,wBAAIA,UAAU,UAAd,kCAGA,uBAAGA,UAAU,eAAb,6FAKR,yBAAKA,UAAU,UACX,wBAAIA,UAAU,oBAAd,sBACA,kBAAC,IAAD,CAAMyL,GAAG,UACL,4BAAQzL,UAAU,oCAAoCS,KAAK,UAA3D,kBCiDLmL,MAhJf,WAAgB,IAAD,EACW/L,mBAAS,MADpB,mBACN4E,EADM,KACAoH,EADA,OAEiBhM,oBAAS,GAF1B,mBAENiM,EAFM,KAEGC,EAFH,OAGelM,mBAAS,IAHxB,mBAGN6D,EAHM,KAGEsI,EAHF,OAIiBnM,mBAAS,IAJ1B,mBAINyC,EAJM,KAIG2J,EAJH,OAKepM,mBAAS,IALxB,mBAKNqJ,EALM,KAKEgD,EALF,OAMerM,mBAAS,MANxB,mBAMNsM,EANM,KAMEC,EANF,KA4Hb,OAnHAjJ,qBAAU,WACRwB,MAAM,cACHqG,MAAK,SAAAqB,GAAG,OAAIA,EAAIC,UAChBtB,KAFH,uCAEQ,WAAMuB,GAAN,mBAAAlJ,EAAA,sDACJwI,EAAQU,GACJA,KACEC,EAAO,IAAIC,UAAUlM,OAAOC,SAASkM,OAAOhM,QAAQ,QAAS,QAC5DiM,OAAS,WACZP,EAAUI,IAEZ7H,MAAM,4BAAD,OAA6B4H,EAAI7H,QACnCsG,MAAK,SAAAqB,GAAG,OAAIA,EAAIC,UAChBtB,MAAK,SAAA4B,GACJZ,EAAUY,MAEdjI,MAAM,6BAAD,OAA8B4H,EAAI7H,QACpCsG,MAAK,SAAAqB,GAAG,OAAIA,EAAIC,UAChBtB,MAAK,SAAA6B,GACJZ,EAAWY,MAEZN,EAAIrD,SACD4D,EAAK,GACLC,EAAS,GACbR,EAAIrD,OAAOnG,KAAI,SAACiK,GACdF,EAAKE,GAAK,GACVnK,QAAQC,IAAI,MAAOgK,GACnBC,EAASE,KAAKtI,MAAM,4BAAD,OAA6BqI,IAC7ChC,MAAK,SAAAqB,GAAG,OAAIA,EAAIC,UAChBtB,MAAK,SAAA4B,GACJE,EAAKE,GAAKtJ,OAAOkJ,MAErBG,EAASE,KAAKtI,MAAM,6BAAD,OAA8BqI,IAC9ChC,MAAK,SAAAqB,GAAG,OAAIA,EAAIC,UAChBtB,MAAK,SAAAkC,GACJ,IAAInL,EAAI,IAAIC,KACRC,EAAU,UAAMF,EAAEG,UAAR,YAAqBH,EAAEI,WAAa,EAApC,YAAyCJ,EAAEK,eACrDC,EAAQ6K,EAAK3K,QAAO,SAAAC,GAAG,OAAIA,EAAIC,MAAQR,KAC3C6K,EAAKE,GAAK1K,QAAQD,SAGxB8K,QAAQC,IAAIL,GAAU/B,MAAK,WACzBkB,EAAUY,QAIhBf,GAAW,GA1CP,2CAFR,yDA+CC,IAEH5I,qBAAU,WACRN,QAAQC,IAAI,YAAYoG,GACpBiD,IACFA,EAAOkB,UAAY,SAACC,GAClB,IAAI7J,EAAOqB,KAAKyI,MAAMD,EAAI7J,MAC1B,GAA0B,UAAtBA,EAAK+J,cACP,OAAQ/J,EAAKgK,GAAGC,MACd,IAAK,QACCjK,EAAKkK,YAAYC,KAAOnJ,EAAKmJ,KAC/BrN,OAAOC,SAASqN,SAElB,MACF,IAAK,SACH,IAAIC,EAAOpK,EAAOnB,QAAO,SAAAC,GAAG,OAAIA,EAAIoL,KAAOnK,EAAKkK,YAAYC,OACxDE,EAAK9J,OAASN,EAAOM,QACvBgI,EAAU8B,GAeZ,MACF,IAAK,UACH,IAAIZ,EAAO5K,EAAQC,QAAO,SAAAC,GAAG,OAAIA,EAAIoL,KAAOnK,EAAKkK,YAAYC,OAC1DV,EAAKlJ,OAAO1B,EAAQ0B,QACrBiI,EAAWiB,QAQd,GAAIzJ,EAAKsK,aAAarJ,OAASD,EAAKC,OAASjB,EAAKsK,aAAavJ,WAAaC,EAAKC,MACpF,OAAQjB,EAAKgK,GAAGC,MACd,IAAK,QACH7B,EAAQpI,EAAKsK,cACb,MACF,IAAK,SACH,IAAIC,EAAOtK,EAAOnB,QAAO,SAAAC,GAAG,OAAIA,EAAIoL,KAAOnK,EAAKkK,YAAYC,OAC5DI,EAAMf,KAAKxJ,EAAKsK,cAChB/B,EAAUgC,GACV,MACF,IAAK,UACH,IAAIC,EAAQ3L,EAAQC,QAAO,SAAAC,GAAG,OAAIA,EAAIoL,KAAOnK,EAAKkK,YAAYC,OAC9DK,EAAMhB,KAAKxJ,EAAKsK,cAChB9B,EAAWgC,QAQpB,CAACxJ,EAAMf,EAAQpB,EAAS4G,EAAQiD,IAGjCL,EAAU,GACR,kBAAC,gBAAD,CAAeoC,aAAa,EAAMC,UAAW,cAC7C,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO3C,KAAK,aACT/G,EAAO,kBAAC,EAAD,CAAMA,KAAMA,EAAMf,OAAQA,EAAQpB,QAASA,EAAS4G,OAAQA,IAAa,kBAAC,IAAD,CAAUuC,GAAG,YAEhG,kBAAC,IAAD,CAAOD,KAAK,UACT/G,EAAO,kBAAC,IAAD,CAAUgH,GAAG,cAAiB,kBAAC,EAAD,OAExC,kBAAC,IAAD,CAAOD,KAAK,KACV,kBAAC,EAAD,WClJZ4C,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,W","file":"static/js/main.ac9e2f26.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAJ80lEQVRo3r1ZaVBUVxZ+lj+marakUjVVM6n8mkpNzZLf82emUqlRURhFRVZTg4JsQrMoS5jCCC5xKdzXcUlcJ7JINICYMprSjJoxIIrs+9LQ0E3TdAMSlm7OfOf2ez00NPAeaF7VV+/1e/fd933nnnvuuaeltrZmaSpaW5uk7u5OqaenS+rq0ouzwdApdXa2S3p9m9TR0SquGXyN9m/j2h/vpBsM+is4l+KdNqAXMAMduF/e1dWRD2zHdQj6eRfnxdxfe3uL6Efpl7/H30dbF4/W1maprq5Gqq+vdYO0AAG/AELwkVw8bwd+AEaBccABTAAkY0K+Ny634bY9+EYR+oqGgLd/TAFv6PXtad3dXbVGo2EQGJtEVCtY0BC+pUffByDkndcqANcRuF+J3wMLID0TXqLvJrhVBs4/faUCYO3fwdI5+N33GohPhQ34Bt9//1UJ8IGAxwt0lfmgBqMRtiABIB2Mc818COA9FxYgogtIVi2AwxlDFhAEAfVaSeMdslh6qb/f7EJfn4nMZiP19vaIMz/ndmr6RDsOxUktLU2eBTQ3N7jQ1FQvzhDhw0OohTgTGxqyks3WRxh6Qh8EoxCiimjDIlgMt9M6KhBhQPTbWFtbPV0Ak1bQ0MA3a/6E5t9psBBIW4RVnz0ro5ycf9OJE8foyJGDdPjwATp+/AidOXOKLl78lC5fvkCffXZO3Cst/S+ZTN2qRoLbQHQjOHoxz8bG/8NNQF1d9SJYLgcvOObqmK3ILjEw0E8YWrpy5SJlZX1M8fFxtHlzlBvi4mJIp9sswL8jI8PpwYNvxKiwCLWGQlR6CJ6/muw1LvKNjXXs++FoOKyGvOLLbMn9+/cKYtHREZSYqKOtWxPdsGVLAiUlxQvEx8dSQkIsPX78HyGejaBWAGDHap2tuLoQoFzAfd4CsWo15Nlq7M9lZU8oM3MbRURsFMSTk5OmkfckJjExjo4ePURVVRVktfYJEWrmhSzCBAF/bGlplBgi4jAw4VLQaETNhB0YsBAEU3b2PgoP3zAn6angkYiICMPI7aHKyufCGLKfqxmNMYzCJSVySrKSN/CgwWh0S8A8QgmHX3yRT1FRm1Rb3pMIFs+THe4rRkJDZOqH0f8gBLD7QADH/FF11u+n2toq2rt3t5iMKSlbNBFnF2KwaBbPRsjPzxEjwJNa5XwYAfkd7DlCAGJsLm6Oq3l5cNAqJmBq6laKjY3WbH0m7ZzIcUI8C+B5VFFRLoyjci44EJHKYfifsfV/g5fa1ZDnyctD/dVXtwQBhlriLJQF79v3CR07dlj85rCqiLlz57boW0NYHcUIfMDWX8cTQ60AnnBFRTcFGY4m7A5aJu6TJ9/B0jbKy7uG+04RHH7ZjXhuqQ2rvDHCKp/Gm5R09imtAnS6GOEOLILJzR42dWKdOH36FMgPkHLcvfs1ZWSkC2G5uZ+L/jlIqN0MIWO4xiNwVa3/KwJu3LhO6elpSBH+Rbt2ZYqVlkkqi9VksHvws1OnTmL+DNLUo6LiOaWlJYs0Q0n2VApwQMAzzjrL5P2qagGc72zfnkHNzU1Y3jsFOSWqKHODwdbfsSOT7t37mhwOO3k6RkZG6eDBA3T+/BmtIzDBOzhJ3pBPaJnE165dhdVSqLq6ykVEr9fTt9/eF+tDQUE+FRcX0YsXFchQh2i2w2azISR/QmfPnhb9qw2lMuduSS59qM5H+FxW9j09evTQzZ/VHBMTExgJh9u98fFxZLHPRFrCabjaKCTDLMl1G1Uv8AfMZhONjo4KMpMPq9WKSJJLV69eoSmPXEdJSTGdO3cWfXVPE2a32+Gezr2EBgF9LECv1oUMhg7xkQkPDJnUzp1ZQKYQ6Ok4efKEmBsNDfUzuJNViwDmbORJ/FztJObOOYW228enfZwtaLFYEEl6PQrkg58bjT00Njbm0b36+y1aBbSi3qMvUBtGFfAoeCIxn4O1skHY+j09Bi3u44DxX/D+N0tNIuee1DnnwtjY6IIFOBwTIjRznxr3yXYswl9yLrRerldqENABV+lGDP/hFQiwi9DJ80ujgFEY/2PORn+LoTBpLZ+YTAYaHn65YAE8imZzz3xGYBzJnA8LWIzUtISHRJuILhE6F3oMDQ3K64umUguvwvXNzY1viQ093ChabULnPgo9M4ZMNQdPXnYfrdZnl8eG5lhTk7yph4hfy2U8zeVDi8U8Y54z12GzKRsYzeXHYVj/zwALaBRob2/N1j6ZnbVPJqL1GBwccPWhJZVh30cGXQLOi4UAHgYGqlzv8MKghbxzTTDTy5cDIotsa2udk3hXFxPpFltTruhpqEYoAizwmr+6yiqTC1sIS//k3ZnawhYT55Xz9u1bKLHsp0uXLs4poLCwUGSfBQV5hIoz+rCJ1V3lXtiOgHNJKQW5NvWTiru/RIN7swngD7HVOa0uLX1Chw5lU0CAPy1dugQ10eNzCsjJyaEVK5aTr+9K5E076f79e8IYc5VVmBOMVVVTU/l7lEAlBVzMdYGLu8AHIFk3kwir1VlhLi7+EhWFSEF8+XIvWrt2DQScmFNAXl6eEMwilixZQh9+uF5ksDySXDCbxXi9MPA/UMqUnj793gUJlTE3oLzB/xaGcUnbk+X7+owgkUP+/k6r+/uvo8DAAFqzZjV2ZImzrg2cP+3evUuI5fcCAgKE+JUr/y62pyzCarV4sv4Q0obtsL5UXl4qoQrugoT6pBtYBFe8+E8FwDTZ51nAzZsFwoJeXl4UFBQorhl+fmto3To/5PvnxC5r+tZxBHPlNgUHBwkBynvch4+PtxBx4cKnSFGMbnOCyeN8CP6+CAU1TQKECHQk1ofh4UF6+PAByoEbadmypW7knXCOwurVvrDmGZTca6mjo12gpaWFrl+/LkaKn7u/5xTBLsXieNMzNGRTXMnK5IGfMKf5COCySxgs0sDDu2fPLpBfJg+//zQwQT+/tULg+vXBKKXECGzYEIoRWybIcxtP77IIfi8lJRniqxFm+/l/mUzlT755C8Cf2hLC5fK7d+88Cg0NHfL29vZIYKoQX99V5O29QoDdYybRk7Fq1Up2xREUDSoxCqGT/2ZdkAC4j1RSUvRmWNiGbFjYgI+N8AeZ1GzEWMhMFleg9IH5M4a2ppCQoMv4G+pdzDfebL06AbduFUpxcZsllALfi46OuoCPWfDhYXzYoca6M2AC77MxrJs2hRempqa8HxMTLZ0/f1Z6LQJiY2OkmJgoKTExQYqP172Hj2VFRkY8lYWM4DwOMg4mJsNFlIHnLNaOEDyK9sMhIcHVOl3sUdSY/oKi2KKkpCQJxvlxBOh0cRLI8/XPt23L+BsEpWJR+jww0L88KCigEYTZ1cwyejBJW0D4OdrcCAvbuA3vr/roo9Q3U1K2SsnJW6SEBJ00HwH/Azst0qNerB/CAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/icuymaslogo.4e9241e7.png\";","module.exports = __webpack_public_path__ + \"static/media/cuy.bc9a0821.svg\";","module.exports = __webpack_public_path__ + \"static/media/goal.3cb17949.svg\";","module.exports = __webpack_public_path__ + \"static/media/Salud.cc36a64d.svg\";","module.exports = __webpack_public_path__ + \"static/media/Relaciones.c283c251.svg\";","module.exports = __webpack_public_path__ + \"static/media/Trabajo.766eff40.svg\";","module.exports = __webpack_public_path__ + \"static/media/libreta.2b657359.png\";","import React, { useState } from 'react';\r\nimport { FcGoogle } from 'react-icons/fc';\r\nfunction Login() {\r\n    const [registered, setRegistered] = useState(true);\r\n    if (registered) {\r\n        return (\r\n            <div className=\"wrapper vh-100 Login\">\r\n                <div className=\"box\">\r\n                    <p className=\"title\">Iniciar Sesión</p>\r\n                    <form action=\"/auth/login\" method=\"post\">\r\n                        <div className=\"inputBox\">\r\n                            <input type=\"email\" name=\"username\" required></input>\r\n                            <label>Email</label>\r\n                        </div>\r\n                        <div className=\"inputBox\">\r\n                            <input type=\"password\" name=\"password\" required ></input>\r\n                            <label>Contraseña</label>\r\n                        </div>\r\n                        <button className=\"btn btn-primary centrado-h submit\" type=\"submit\">\r\n                            Ingresar\r\n                        </button>\r\n\r\n                        <button onClick={() => window.location.href = \"/auth/google\"} className=\"btn btn-light centrado-h google\" >\r\n                            <FcGoogle /> Ingresa con Google\r\n                        </button>\r\n                    </form>\r\n                    <div className='text-light'>\r\n                        ¿No tienes una cuenta?\r\n                        <button className=\"btn btn-link btn-secondary\" onClick={() => setRegistered(false)}>Registrate</button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    } else {\r\n        return (\r\n            <div className=\"wrapper vh-100 Login\">\r\n                <div className=\"box\">\r\n                    <p className=\"title\">Registrarse</p>\r\n                    <form action=\"/users\" method=\"post\">\r\n                        <div className=\"inputBox\">\r\n                            <input type=\"text\" name=\"name\" required></input>\r\n                            <label>Nombre</label>\r\n                        </div>\r\n                        <div className=\"inputBox\">\r\n                            <input type=\"email\" name=\"email\" required></input>\r\n                            <label>Email</label>\r\n                        </div>\r\n                        <div className=\"inputBox\">\r\n                            <input type=\"password\" name=\"password\" required ></input>\r\n                            <label>Contraseña</label>\r\n                        </div>\r\n\r\n                        <button onClick={() =>window.location.replace(false)} className=\"btn btn-primary centrado-h submit\" type=\"submit\">\r\n                            Registrarse\r\n                        </button>\r\n\r\n                        <button onClick={() => window.location.href = \"/auth/google\"} className=\"btn btn-light centrado-h google\" >\r\n                            <FcGoogle/> Ingresa con Google\r\n                        </button>\r\n                    </form>\r\n                    <div className='text-light'>\r\n                        ¿Ya tienes una cuenta?\r\n                    <button className=\"btn btn-link btn-secondary\" onClick={()=>setRegistered(true)}>Ingresa</button>\r\n                    </div>\r\n                </div>\r\n            </div >\r\n        );\r\n    }\r\n}\r\nexport default Login;","import { useToasts } from 'react-toast-notifications'\r\nimport React, { useState, useEffect } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport { FaChevronDown, FaChevronUp } from 'react-icons/fa'\r\nimport { MdErrorOutline } from 'react-icons/md'\r\nconst DiaryCard = (props) => {\r\n    const { addToast } = useToasts()\r\n    const [first, setFisrt] = useState([])\r\n    const [second, setSecond] = useState([])\r\n    const [third, setThird] = useState([])\r\n    const [available, setAvailable] = useState(0);\r\n    const [inputs, setInputs] = useState({})\r\n    const [areas, setAreas] = useState([\r\n        {\r\n            title: \"Salud\",\r\n            codigos: [1, 2, 3],\r\n            subareas: [\r\n                \"Espiritual\",\r\n                \"Fisica\",\r\n                \"Alimentacion\"\r\n            ]\r\n        },\r\n        {\r\n            title: \"Relaciones\",\r\n            codigos: [4, 5, 6],\r\n            subareas: [\r\n                \"Yo\",\r\n                \"Nosotros\",\r\n                \"Familia\"\r\n            ]\r\n        },\r\n        {\r\n            title: \"Trabajo\",\r\n            codigos: [7, 8, 9],\r\n            subareas: [\r\n                \"Aprendizaje\",\r\n                \"Proyectos Alternos\",\r\n                \"Trabajo Principal\"\r\n            ]\r\n        }\r\n    ]);\r\n\r\n    const updateRecord = (inp) => {\r\n        let d = new Date();\r\n        let actualDate = `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`;\r\n        let today = props.records.filter(ele => ele.date == actualDate);\r\n        let copy = inp ? inp : { ...inputs };\r\n        let keys = Object.keys(copy)\r\n        console.log(today, keys)\r\n        today.map((ele) => {\r\n            if (keys.includes(ele.habitTitle)) {\r\n                copy[ele.habitTitle] = ele.value;\r\n            }\r\n        })\r\n        setInputs(copy);\r\n    }\r\n    useEffect(() => {\r\n        let copy = {}\r\n        let sortHabits = (a, b) => {\r\n            if (a.inputType === b.inputType)\r\n                return 0\r\n            return a.inputType > b.inputType ? 1 : -1\r\n        }\r\n        let count = 0;\r\n        let data = props.habits\r\n            .filter(h => h.isDaily && h.subarea === areas[props.area].codigos[0])\r\n            .sort(sortHabits);\r\n        count += data.length === 0 ? 0 : 1;\r\n        data.forEach(ele => {\r\n            if (copy[ele.title] === undefined) {\r\n                let value;\r\n                switch (ele.inputType) {\r\n                    case 'number':\r\n                        value = 0;\r\n                        break;\r\n                    case 'time':\r\n                        value = \"\";\r\n                        break;\r\n\r\n                    case 'checkbox':\r\n                        value = false;\r\n                        break;\r\n                    default:\r\n                        value = ''\r\n                        break;\r\n                }\r\n                copy[ele.title] = value;\r\n            }\r\n        });\r\n        setFisrt(data);\r\n        data = props.habits\r\n            .filter(h => h.isDaily && h.subarea === areas[props.area].codigos[1])\r\n            .sort(sortHabits);\r\n        count += data.length === 0 ? 0 : 1;\r\n        data.forEach(ele => {\r\n            if (copy[ele.title] === undefined) {\r\n                let value;\r\n                switch (ele.inputType) {\r\n                    case 'number':\r\n                        value = 0;\r\n                        break;\r\n                    case 'time':\r\n                        value = \"\";\r\n                        break;\r\n\r\n                    case 'checkbox':\r\n                        value = false;\r\n                        break;\r\n                    default:\r\n                        value = ''\r\n                        break;\r\n                }\r\n                copy[ele.title] = value;\r\n            }\r\n        });\r\n        setSecond(data);\r\n        data = props.habits\r\n            .filter(h => h.isDaily && h.subarea === areas[props.area].codigos[2])\r\n            .sort(sortHabits);\r\n        count += data.length === 0 ? 0 : 1;\r\n        data.forEach(ele => {\r\n            if (copy[ele.title] === undefined) {\r\n                let value;\r\n                switch (ele.inputType) {\r\n                    case 'number':\r\n                        value = 0;\r\n                        break;\r\n                    case 'time':\r\n                        value = \"\";\r\n                        break;\r\n\r\n                    case 'checkbox':\r\n                        value = false;\r\n                        break;\r\n                    default:\r\n                        value = ''\r\n                        break;\r\n                }\r\n                copy[ele.title] = value;\r\n            }\r\n        });\r\n        setThird(data);\r\n        setAvailable(count);\r\n        setInputs(copy);\r\n        updateRecord(copy);\r\n    }, [areas, props.area, props.habits]);\r\n\r\n    useEffect(updateRecord, [props.records])\r\n\r\n\r\n    const setInput = (input, title) => {\r\n        let copy = { ...inputs };\r\n        switch (input.type) {\r\n            case \"number\":\r\n                copy[title] = parseInt(input.value)\r\n                break;\r\n            case \"checkbox\":\r\n                copy[title] = !copy[title]\r\n                break;\r\n\r\n            default:\r\n                copy[title] = input.value\r\n                break;\r\n        }\r\n        console.log('set input', input, copy)\r\n\r\n        setInputs(copy);\r\n    }\r\n    const saveHabit = (title) => {\r\n        let d = new Date();\r\n        let send = {\r\n            date: `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`,\r\n            userEmail: props.user.email,\r\n            habitTitle: title,\r\n            value: inputs[title]\r\n        }\r\n        console.log(inputs);\r\n        fetch('/records', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(send)\r\n        })\r\n    }\r\n\r\n    const defineSubarea = (num, data) => {\r\n        if (data.length > 0) {\r\n            let tamano = (available === 3 && num !== 3) ? 6 : 12;\r\n            let col1, col2 = [];\r\n            if (tamano === 12) {\r\n                col1 = data.filter((ele, i) => i % 2 === 0)\r\n                col2 = data.filter((ele, i) => i % 2 === 1)\r\n            }\r\n            return (\r\n                <div className={`col-${tamano} subarea`}>\r\n                    <div className=\"header\">\r\n                        <h3 className=\"text centrado-v\">\r\n                            {areas[props.area].subareas[num - 1]}\r\n                        </h3>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        {\r\n                            tamano === 12 ? (\r\n                                <>\r\n                                    <div className=\"col-6 pr\">\r\n                                        {\r\n                                            col1.map((ele, i) => {\r\n                                                return (\r\n                                                    <div className=\"habitItem\" key={`1-${i}`}>\r\n                                                        <span className=\"centrado-v d-block\">\r\n                                                            {ele.title}\r\n                                                        </span>\r\n                                                        <div className=\"input centrado-v\">\r\n                                                            <input defaultChecked={inputs[ele.title]} value={inputs[ele.title]} onBlur={() => { saveHabit(ele.title); addToast('Registro Guardado', { appearance: 'success' }) }} onChange={e => setInput(e.target, ele.title)} className=\"centrado-h\" type={ele.inputType}></input>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                    <div className=\"col-6 pl\">\r\n                                        {\r\n                                            col2.map((ele, i) => {\r\n                                                return (\r\n                                                    <div className=\"habitItem\" key={`2-${i}`}>\r\n                                                        <span className=\"centrado-v d-block\">\r\n                                                            {ele.title}\r\n                                                        </span>\r\n                                                        <div className=\"input centrado-v\">\r\n                                                            <input defaultChecked={inputs[ele.title]} value={inputs[ele.title]} onBlur={() => { saveHabit(ele.title); addToast('Registro Guardado', { appearance: 'success' }) }} onChange={e => setInput(e.target, ele.title)} className=\"centrado-h\" type={ele.inputType}></input>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                </>\r\n                            ) : (\r\n                                    <div className=\"col-12 \">\r\n                                        {\r\n                                            data.map((ele, i) => {\r\n                                                return (\r\n                                                    <div className=\"habitItem\" key={i}>\r\n                                                        <span className=\"centrado-v d-block\">\r\n                                                            {ele.title}\r\n                                                        </span>\r\n                                                        <div className=\"input centrado-v\">\r\n                                                            <input defaultChecked={inputs[ele.title]} value={inputs[ele.title]} onBlur={() => { saveHabit(ele.title); addToast('Registro Guardado', { appearance: 'success' }) }} onChange={e => setInput(e.target, ele.title)} className=\"centrado-h\" type={ele.inputType}></input>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </div>\r\n                                )\r\n                        }\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n        return '';\r\n    }\r\n    return (\r\n        <div className=\" DiaryCard card\">\r\n            <div className={`card-header ${props.area === 0 ? \"\" : \"collapsed\"}`} data-toggle=\"collapse\" data-target={`#collapse${props.area}`} aria-expanded=\"true\" aria-controls={`collapse${props.area}`} tabIndex={0}>\r\n                <h2 className=\"centrado-v title\">\r\n                    {areas[props.area].title}\r\n                </h2>\r\n                <div className=\"centrado-v collapse-icon closed \">\r\n                    <FaChevronDown />\r\n                </div>\r\n                <div className=\"centrado-v collapse-icon open \">\r\n                    <FaChevronUp />\r\n                </div>\r\n            </div>\r\n            <div id={`collapse${props.area}`} className={`collapse ${props.area === 0 ? \"show\" : \"\"}`} aria-labelledby={`heading${props.area}`} data-parent=\"#DiaryAreas\">\r\n\r\n                <div className=\"card-body\">\r\n                    <div className=\"row subareas no-gutters\">\r\n                        {\r\n                            first.length === 0 && second.length === 0 && third.length === 0 ?\r\n                                <div className=\"col empty\">\r\n                                    <div className=\"empty-icon centrado-h fit\">\r\n                                        <MdErrorOutline />\r\n                                    </div>\r\n                                    <h3 className=\"empty-text\">Parece que no has creado ningun habito en esta categoria, crea uno nuevo en tu perfil. </h3>\r\n                                </div>\r\n                                :\r\n                                <>\r\n                                    {defineSubarea(1, first)}\r\n                                    {defineSubarea(2, second)}\r\n                                    {defineSubarea(3, third)}\r\n                                </>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nDiaryCard.propTypes = {\r\n    area: PropTypes.number.isRequired,\r\n    user: PropTypes.object.isRequired,\r\n    habits: PropTypes.array.isRequired,\r\n    records: PropTypes.array.isRequired\r\n}\r\nexport default DiaryCard;","import React, { useRef, useEffect, useState } from 'react'\r\nimport * as d3 from 'd3'\r\nimport img from '../assets/cuy.svg'\r\nimport imgF from '../assets/goal.svg'\r\n\r\nconst CuyGraph = (props) => {\r\n\r\n    const targetRef = useRef();\r\n    const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\r\n    const [currentState, setCurrentState] = useState(0)\r\n\r\n    useEffect(() => {\r\n        if (targetRef.current) {\r\n            setDimensions({\r\n                width: targetRef.current.offsetWidth,\r\n                height: 50\r\n            });\r\n            console.log(props.completed, props.total)\r\n            if (props.completed !== undefined && props.total !== undefined){\r\n            const a = props.completed / props.total;\r\n            setCurrentState(a.toFixed(2));\r\n            }\r\n        }\r\n    }, [props.completed, props.total]);\r\n\r\n    d3.select(\".progressCuy\").html(\"\");\r\n    d3.select(\".progressNumber\").html(\"\");\r\n\r\n    const svg = d3.select('.progressCuy')\r\n        .append('svg')\r\n        .attr('height', dimensions.height)\r\n        .attr('width', dimensions.width)\r\n        .attr('y', 20);\r\n\r\n    svg.append('rect')\r\n        .attr('class', 'bg-rect')\r\n        .attr('rx', 10)\r\n        .attr('ry', 10)\r\n        .attr('fill', '#62bbc5')\r\n        .attr('height', 15)\r\n        .attr('width', dimensions.width - 50)\r\n        .attr('x', 0)\r\n        .attr('y', 20);\r\n\r\n    const progress = svg.append('rect')\r\n        .attr('class', 'progress-rect')\r\n        .attr('fill', '#0e4b6e')\r\n        .attr('height', 15)\r\n        .attr('width', 0)\r\n        .attr('rx', 10)\r\n        .attr('ry', 10)\r\n        .attr('x', 0)\r\n        .attr('y', 20);\r\n\r\n    const cuy = svg.append('image')\r\n        .attr(\"xlink:href\", img)\r\n        .attr('width', 30)\r\n\r\n    progress.transition()\r\n        .duration(1000)\r\n        .attr('width', currentState * dimensions.width - 50);\r\n\r\n    cuy.transition()\r\n        .duration(1000)\r\n        .attr('x', currentState * dimensions.width - 75);\r\n\r\n    const goal = svg.append('image')\r\n        .attr(\"xlink:href\", imgF)\r\n        .attr('width', 30)\r\n        .attr('x', dimensions.width - 60)\r\n        .attr('y', 0);\r\n\r\n    const svgCompl = d3.select('.progressNumber')\r\n        .append('svg')\r\n        .attr('height', 100)\r\n        .attr('width', 100);\r\n\r\n    svgCompl.append('circle')\r\n        .attr('fill', '#0e4b6e')\r\n        .attr('cx', 50)\r\n        .attr('cy', 50)\r\n        .attr('r', 50)\r\n        .attr('height', 100)\r\n        .attr('width', 100);\r\n\r\n    svgCompl.append('text')\r\n        .attr('x', 20)\r\n        .attr('y', 55)\r\n        .attr('font-size', 20)\r\n        .attr('fill', '#FFF')\r\n        .text(props.completed + \"/\" + props.total);\r\n\r\n    return (\r\n        <>\r\n            <div className=\"progressCuy\" ref={targetRef}>Progress</div>\r\n            <h5><strong>Progreso:{currentState * 100}%</strong></h5>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default CuyGraph\r\n\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport DiaryCard from \"./DiaryCard\"\r\nimport CuyGraph from './CuyGraph'\r\n\r\nfunction Home(props) {\r\n\r\n    const [select, setSelect] = useState(0)\r\n    const [todayH, setTodayH] = useState(0);\r\n\r\n    useEffect(() => {\r\n        let d = new Date();\r\n        let actualDate = `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`;\r\n        let today = props.records.filter(ele => ele.date == actualDate);\r\n        console.log(today)\r\n        setTodayH(today.length);\r\n    },[props.records])\r\n\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 col-12 diary\">\r\n                    <h1 className=\"titulo-seccion\">Registro tus logros diarios</h1>\r\n                    <div className=\"accordion\" id=\"DiaryAreas\">\r\n                        <DiaryCard area={0} user={props.user} habits={props.habits} records={props.records} />\r\n                        <DiaryCard area={1} user={props.user} habits={props.habits} records={props.records} />\r\n                        <DiaryCard area={2} user={props.user} habits={props.habits} records={props.records} />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-6 col-12\">\r\n                    <div>\r\n                        <h1 style={{ color: '#0e4b6e' }}>Tu progreso el día de hoy</h1>\r\n                        <h2 style={{ margin: '40px 0 20px 0', color: '#FFF', background: '#0e4b6e', padding: '5px' }}>Cumplimiento porcentual de tus hábitos</h2>\r\n                        <CuyGraph completed={todayH} total={props.habits.length} />\r\n                        <p style={{ margin: '20px 0 0 0', fontSize: '18px' }}>Has completado <strong>{todayH}</strong> hábitos de tus <strong>{props.habits.length}</strong> hábitos registrados el día de hoy.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nHome.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n    habits: PropTypes.array.isRequired,\r\n    records: PropTypes.array.isRequired\r\n}\r\n\r\nexport default Home;","import React, { useState } from 'react';\r\nimport PropTypes from \"prop-types\";\r\nimport defaultPhoto from \"../assets/user.png\"\r\nimport { BsFillPlusSquareFill } from 'react-icons/bs';\r\nimport { MdErrorOutline } from 'react-icons/md'\r\nimport CuyGraph from './CuyGraph'\r\n\r\nfunction Profile(props) {\r\n    const [newSupervisor, setNewSupervisor] = useState(false);\r\n    // const saveHabit = () => {\r\n    //     console.log(inputs)\r\n    //     fetch('/habits', {\r\n    //         method: 'POST',\r\n    //         headers: { 'Content-Type': 'application/json' },\r\n    //         body: JSON.stringify(inputs)\r\n    //     }).then(() => {\r\n    //         setInputs(base);\r\n    //         setHabitEdit(false);\r\n    //     });\r\n    // }\r\n\r\n    return (\r\n        <div className=\"Profile\">\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-lg-4 col-md-5 col-12 profile\">\r\n                        <div className=\"card profile-info\">\r\n                            <div className=\"photo centrado-h\">\r\n                                <img alt=\"foto de perfil\" src={props.user.photo ? props.user.photo : defaultPhoto}></img>\r\n                            </div>\r\n                            <h3 className=\"name\">{props.user.name}</h3>\r\n                            <h4 className=\"email\">{props.user.email}</h4>\r\n                            <hr></hr>\r\n                            <div className=\" row stats\">\r\n                                <div className=\"stat col\">\r\n                                    <h6 className=\"title centrado-h\">Habitos</h6>\r\n                                    <p className=\"value\">{`${props.habits.length > 9 ? '' : '0'}${props.habits.length}`}</p>\r\n                                </div>\r\n                                <div className=\"stat col\">\r\n                                    <h6 className=\"title centrado-h\">Supervisores</h6>\r\n                                    <p className=\"value\">{`${props.user.supervisors.length > 9 ? '' : '0'}${props.user.supervisors.length}`}</p>\r\n                                </div>\r\n                                <div className=\"stat col\">\r\n                                    <h6 className=\"title centrado-h\">Pupilos</h6>\r\n                                    <p className=\"value\">{`${props.user.pupils.length > 9 ? '' : '0'}${props.user.pupils.length}`}</p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-lg-8 col-md-7 col-12 board\">\r\n                        <div className=\"row supervisors\">\r\n                            <div className=\"card\">\r\n                                <div className=\"header\">\r\n                                    <h2 className=\"title fit\">Mis Supervisores</h2>\r\n                                    <button className=\"add centrado-v\" onClick={() => { setNewSupervisor(true) }}>\r\n                                        <BsFillPlusSquareFill />\r\n                                    </button>\r\n                                </div>\r\n                                <div className=\"body\">\r\n                                    <hr></hr>\r\n                                    <div className={`row habits-list no-gutters ${newSupervisor?'d-none':''}`}>\r\n                                        {\r\n                                            props.user.supervisors.length > 0 ? (\r\n                                                props.user.supervisors.map((ele, i) => {\r\n                                                    return (\r\n                                                        <div className=\"col-6 habit\" key={`profile-supervisor-${i}`}>\r\n                                                            <div className=\"habit-item\"  >\r\n                                                                <span className=\"centrado-v title\">\r\n                                                                    {ele}\r\n                                                                </span>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    )\r\n                                                })\r\n                                            ) : (\r\n                                                    <div className=\"col empty\">\r\n                                                        <div className=\"empty-icon centrado-h fit\">\r\n                                                            <MdErrorOutline />\r\n                                                        </div>\r\n                                                        <h4 className=\"empty-text\">Parece que no has registrado ningun supervisor. </h4>\r\n                                                    </div>\r\n                                                )\r\n                                        }\r\n\r\n                                    </div>\r\n                                    {/* <div className={`row habits-list no-gutters ${newSupervisor ?'': 'd-none'}`}>\r\n                                        di\r\n\r\n                                    </div> */}\r\n\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row pupils\">\r\n                            <div className=\"card\">\r\n                                <div className=\"header\">\r\n                                    <h2 className=\"title fit\">Mis Pupilos</h2>\r\n                                </div>\r\n                                <div className=\"body\">\r\n                                    <hr></hr>\r\n                                    <div className=\"row habits-list no-gutters \">\r\n                                        {\r\n                                            props.user.pupils.length > 0 ? (\r\n                                                props.user.pupils.map((ele, i) => {\r\n                                                    return (\r\n                                                        <div className=\"col-12 pupil\" key={`profile-pupil-${i}`}>\r\n                                                            <span className=\" title\">\r\n                                                                <strong>{ele}</strong>\r\n                                                            </span>\r\n                                                            <CuyGraph completed={props.pupils[ele].records.length} total={props.pupils[ele].habits.length} />\r\n                                                            <hr></hr>\r\n                                                        </div>\r\n                                                    )\r\n                                                })\r\n                                            ) : (\r\n                                                    <div className=\"col empty\">\r\n                                                        <div className=\"empty-icon centrado-h fit\">\r\n                                                            <MdErrorOutline />\r\n                                                        </div>\r\n                                                        <h4 className=\"empty-text\">Parece que nadie te ha registrado como supervisor. </h4>\r\n                                                    </div>\r\n                                                )\r\n                                        }\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nProfile.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n    habits: PropTypes.array.isRequired,\r\n}\r\nexport default Profile;","import React, {useEffect, useState} from 'react'\r\nimport Chart from 'react-apexcharts'\r\nimport { GiUnstableOrb } from 'react-icons/gi'\r\n\r\nconst GraphNumber = (props) => {\r\n\r\n    //Filtering\r\n        let options;\r\n        let series;\r\n\r\n    useEffect(() => {\r\n\r\n        const dat = props.data;\r\n        let data;\r\n        \r\n        if (dat.length > 0) {\r\n            data = dat.filter(d =>{\r\n                if(d.habitTitle==props.habit && d.date > new Date(Date.now() - 7))\r\n                    return d\r\n            })\r\n            data.sort((a, b) => {\r\n                let AEl = new Date(a.date), BEl = new Date(b.date);\r\n                if (AEl < BEl) return -1;\r\n                if (AEl > BEl) return 1;\r\n                return 0;\r\n            });\r\n\r\n            options = {\r\n                chart: {\r\n                    id: 'Dates'\r\n                },\r\n                xaxis: {\r\n                    categories: data.map(record => record.date)\r\n                }\r\n            }\r\n\r\n            series = [{\r\n                name: 'Number',\r\n                data: data.map(record => record.value)\r\n            }]\r\n            \r\n        }\r\n\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"w-100 h-75 position-absolute bottom-0 \">\r\n            {series!=undefined&&options!=undefined?<Chart options={options} series={series} type=\"line\" width={\"80%\"} height={\"100%\"} />:\"Cargando...\"}\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default GraphNumber\r\n\r\n","import React from 'react'\r\nimport Chart from 'react-apexcharts'\r\n\r\nconst GraphHour = (props) => {\r\n\r\n    const data = props.data\r\n\r\n    data.sort((a, b) => {\r\n        let AEl = new Date(a.date), BEl = new Date(b.date);\r\n        if (AEl < BEl) return -1;\r\n        if (AEl > BEl) return 1;\r\n        return 0;\r\n    });\r\n\r\n    const options = {\r\n        chart: {\r\n            id: 'Dates'\r\n        },\r\n        xaxis: {\r\n            categories: data.map(record => record.date)\r\n        }\r\n    }\r\n\r\n    const series = [{\r\n        name: 'Hour',\r\n        data: data.map(record => record.value)\r\n    }]\r\n\r\n    return (\r\n        <div className = \"w-100 h-75 position-absolute bottom-0 \">\r\n            <Chart options={options} series={series} type=\"line\" width={\"80%\"} height={\"100%\"} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default GraphHour\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport PropTypes from \"prop-types\";\r\nimport Salud from \"../assets/Salud.svg\";\r\nimport Relaciones from \"../assets/Relaciones.svg\";\r\nimport Trabajo from \"../assets/Trabajo.svg\";\r\nimport { MdErrorOutline } from 'react-icons/md'\r\nimport {\r\n    GiMeditation,\r\n    GiBarbecue,\r\n    GiWeightLiftingUp,\r\n    GiBriefcase,\r\n    GiGraduateCap,\r\n    GiCherish,\r\n    GiMedallist,\r\n    GiLovers,\r\n    GiThreeFriends,\r\n    GiBeamsAura\r\n} from 'react-icons/gi'\r\nimport GraphNumber from './GraphNumber';\r\nimport GraphHour from './GraphHour';\r\nimport { icons } from 'react-icons/lib/cjs';\r\nimport { set } from 'd3';\r\n\r\nconst Habit = (props) => {\r\n    const icons = [\r\n        <GiMeditation />,\r\n        <GiWeightLiftingUp />,\r\n        <GiBarbecue />,\r\n        <GiBeamsAura />,\r\n        <GiLovers />,\r\n        <GiThreeFriends />,\r\n        <GiGraduateCap />,\r\n        <GiCherish />,\r\n        <GiBriefcase />,\r\n    ]\r\n    const [areas, setAreas] = useState([\r\n        {\r\n            title: \"Salud\",\r\n            codigos: [1, 2, 3],\r\n            color: \"tertiary\",\r\n            subareas: [\r\n                \"Espiritual\",\r\n                \"Fisica\",\r\n                \"Alimentacion\"\r\n            ]\r\n        },\r\n        {\r\n            title: \"Relaciones\",\r\n            codigos: [4, 5, 6],\r\n            color: \"primary\",\r\n            subareas: [\r\n                \"Yo\",\r\n                \"Nosotros\",\r\n                \"Familia\"\r\n            ]\r\n        },\r\n        {\r\n            title: \"Trabajo\",\r\n            codigos: [7, 8, 9],\r\n            color: \"quaternary\",\r\n            subareas: [\r\n                \"Aprendizaje\",\r\n                \"Proyectos\",\r\n                \"Principal\"\r\n            ]\r\n        }\r\n    ]);\r\n    const [newHabit, setNewHabit] = useState(false);\r\n    const [inputs, setInputs] = useState(null);\r\n\r\n    const base = {\r\n        title: '',\r\n        description: '',\r\n        isDaily: true,\r\n        userEmail: props.user.email,\r\n        inputType: 'number',\r\n        goalValue: '',\r\n        unit: '',\r\n        subarea: 1\r\n    }\r\n    const setInput = (value, title) => {\r\n        let copy = { ...inputs };\r\n        copy[title] = value;\r\n        setInputs(copy);\r\n    }\r\n    const saveHabit = () => {\r\n        console.log(inputs)\r\n        fetch('/habits', {\r\n            method: 'POST',\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify(inputs)\r\n        }).then(() => {\r\n            if (newHabit) {\r\n                setInput(null)\r\n                setNewHabit(false);\r\n            }\r\n        });\r\n    }\r\n    const getHabits = (group) => {\r\n        let habits = props.habits\r\n            .filter((h) => areas[group].codigos.includes(h.subarea))\r\n            .sort((a, b) => a.subarea - b.subarea);\r\n        return (\r\n            <div className={\"card centrado-v \" + areas[group].color}>\r\n                <div className=\"card-header\">\r\n                    <h3 className=\"m-0\">{areas[group].title}</h3>\r\n                </div>\r\n                <div className=\"card-body\">\r\n                    <div className=\"row  no-gutters \">\r\n                        {\r\n                            habits.length > 0 ?\r\n                                habits.map((ele, i) => {\r\n                                    return (\r\n                                        <div className=\"col-6 habit\" key={`habit-${i}`}>\r\n                                            <div className={`habit-item ${ele === inputs ? 'active' : ''}`} tabIndex={0} onClick={() => { setInputs(ele) }}>\r\n                                                <span className=\"title\">\r\n                                                    {ele.title}\r\n                                                </span>\r\n                                                <div className=\"icon fit centrado-v\">\r\n                                                    {icons[ele.subarea - 1]}\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )\r\n                                })\r\n                                :\r\n                                <div className=\"col empty\">\r\n                                    <div className=\"empty-icon centrado-h fit\">\r\n                                        <MdErrorOutline />\r\n                                    </div>\r\n                                    <h4 className=\"empty-text\">Parece que no has creado ningun habito en esta categoria. </h4>\r\n                                </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    };\r\n\r\n    return (\r\n        <div className=\"Habit\">\r\n            <div className=\"row contain\">\r\n                <div className=\"col-md-7 col-12 areas\">\r\n                    <div className=\"row new\">\r\n                        <button className=\"btn btn-secondary mx-2 float-right\" onClick={() => { setInputs(base); setNewHabit(true) }}>\r\n                            Crear Nuevo Habito\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"row area\">\r\n                        <div className=\"col-7 habits-list\">\r\n                            {getHabits(0)}\r\n                        </div>\r\n                        <div className=\"col-5 cuy-img\">\r\n                            <img className=\"centrado\" alt=\"\" src={Salud}></img>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row area\">\r\n                        <div className=\"col-5 cuy-img\">\r\n                            <img className=\"centrado\" alt=\"\" src={Relaciones}></img>\r\n                        </div>\r\n                        <div className=\"col-7 habits-list\">\r\n                            {getHabits(1)}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row area\">\r\n                        <div className=\"col-7 habits-list\">\r\n                            {getHabits(2)}\r\n                        </div>\r\n                        <div className=\"col-5 cuy-img\">\r\n                            <img className=\"centrado\" alt=\"\" src={Trabajo}></img>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-md-5 col-12 info\">\r\n                    {\r\n                        inputs ?\r\n                            <>\r\n                                <div className=\"row details\">\r\n                                    <div className=\"card\">\r\n                                        <div className=\"card-header\">\r\n                                            <h3 className=\"m-0\">{newHabit ? \"Nuevo Habito\" : \"Detalles\"}</h3>\r\n                                        </div>\r\n                                        <div className=\"card-body\">\r\n                                            <form onSubmit={(e) => e.preventDefault()} className=\"edit\">\r\n                                                <div className=\"row\">\r\n                                                    <div className=\"col-6 \">\r\n                                                        <div className=\"inputBox\">\r\n                                                            <input type=\"text\" name=\"title\" required value={inputs.title} onChange={e => setInput(e.target.value, 'title')}></input>\r\n                                                            <label>Nombre Corto</label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-6 \">\r\n                                                        <div className=\"checkbox\">\r\n                                                            <label>Registro Diario</label>\r\n                                                            <input className=\"centrado-h\" type=\"checkbox\" name=\"isDaily\" checked={inputs.isDaily} onChange={e => setInput(!inputs.isDaily, 'isDaily')}></input>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-12 \">\r\n                                                        <div className=\"inputBox\">\r\n                                                            <input type=\"text\" name=\"description\" required value={inputs.description} onChange={e => setInput(e.target.value, 'description')} ></input>\r\n                                                            <label>Descripcion Habito</label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                    <div className=\"col-4 \">\r\n                                                        <div className=\"inputBox\">\r\n                                                            <label className=\"no-animate\">Tipo de Registro</label>\r\n                                                            <select name=\"inputType\" required value={inputs.inputType} onChange={e => { setInput('', 'goalValue'); setInput(e.target.value, 'inputType') }}>\r\n                                                                <option value=\"number\">Numerico</option>\r\n                                                                <option value=\"checkbox\">Si/No(completado)</option>\r\n                                                                <option value=\"time\">Hora</option>\r\n                                                            </select>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    {\r\n                                                        inputs.inputType !== \"checkbox\" ?\r\n                                                            <div className=\"col-4 \">\r\n                                                                <div className=\"inputBox\">\r\n                                                                    <input type={inputs.inputType} name=\"goalValue\" required value={inputs.goalValue} onChange={e => setInput(inputs.inputType === 'number' ? parseInt(e.target.value) : e.target.value, 'goalValue')}></input>\r\n                                                                    <label className={inputs.inputType === \"time\" ? \"no-animate\" : \"\"}>Objetivo</label>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            : ''\r\n                                                    }\r\n                                                    {\r\n                                                        inputs.inputType === \"number\" ?\r\n                                                            <div className=\"col-4 \">\r\n                                                                <div className=\"inputBox\">\r\n                                                                    <input type=\"text\" name=\"unit\" required value={inputs.unit} onChange={e => setInput(e.target.value, 'unit')}></input>\r\n                                                                    <label>Unidad(ej.vasos)</label>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                            : ''\r\n                                                    }\r\n                                                    <div className=\"col-12 mb-3\">\r\n                                                        <h4>Selecciona un area</h4>\r\n                                                        <div className=\"select-area row\">\r\n                                                            {\r\n                                                                areas.map(area => {\r\n                                                                    return (\r\n                                                                        <div className={\"col area-container \" + area.color} key={\"area-\" + area.title}>\r\n                                                                            <label className=\"area-title centrado-h\">{area.title}</label>\r\n                                                                            <div className=\"circle centrado-h\">\r\n                                                                                {\r\n                                                                                    area.subareas.map((subarea, i) => {\r\n                                                                                        return (\r\n                                                                                            <div className={`sub-area ${inputs.subarea === area.codigos[i] ? 'active' : ''}`} key={'subarea-' + subarea} onClick={() => setInput(area.codigos[i], 'subarea')}>\r\n                                                                                                <span>{subarea}</span>\r\n                                                                                                <div className=\"icon fit\">\r\n                                                                                                    {icons[area.codigos[i] - 1]}\r\n                                                                                                </div>\r\n                                                                                            </div>\r\n                                                                                        );\r\n                                                                                    })\r\n                                                                                }\r\n                                                                            </div>\r\n                                                                        </div>\r\n                                                                    );\r\n                                                                })\r\n                                                            }\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"col-12\">\r\n                                                        <button className=\"btn btn-primary mx-2 float-right\" onClick={saveHabit}>\r\n                                                            Guardar\r\n                                                    </button>\r\n                                                        {\r\n                                                            newHabit &&\r\n                                                            <button className=\"btn btn-medium mx-2 float-right\" onClick={() => { setInputs(null); setNewHabit(false); }}>\r\n                                                                Cancelar\r\n                                                        </button>\r\n                                                        }\r\n                                                    </div>\r\n                                                </div>\r\n                                            </form>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row graph\">\r\n                                    {inputs.inputType == 'number' ? <GraphNumber data={props.records} habit={inputs.title}/>:\r\n                                     inputs.inputType=='time'?<GraphHour data={props.records} habit={inputs.title}/>:\"\"}\r\n                            </div>\r\n                            </>\r\n                            :\r\n                            <h3>Selecciona algun habito para ver la informacion</h3>\r\n                    }\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nHabit.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n    habits: PropTypes.array.isRequired,\r\n    records: PropTypes.array.isRequired\r\n}\r\n\r\n\r\nexport default Habit","import React, { useState, useEffect } from 'react';\r\nimport {\r\n    Switch,\r\n    Route,\r\n    useLocation,\r\n    Redirect\r\n} from \"react-router-dom\";\r\nimport PropTypes from \"prop-types\";\r\nimport Home from \"./Home\";\r\nimport Profile from \"./Profile\";\r\nimport Habit from \"./Habit\";\r\n// import Profile from \"./Profile\";\r\nimport logo from \"../assets/icuymaslogo.png\";\r\nimport defaultPhoto from \"../assets/user.png\"\r\nfunction Base(props) {\r\n    const [location] = useState(useLocation().pathname);\r\n    return (\r\n        <>\r\n            {props.user.nuevo ? '' :\r\n                <>\r\n                    <nav className=\"Base\">\r\n                        <a className=\"logo\" href=\"/\">\r\n                            <img className=\"centrado-v\" alt=\"Logo iCUY\" src={logo}></img>\r\n                        </a>\r\n                        <div className=\"links centrado-v\">\r\n                            <ul className=\"navbar-nav\">\r\n                                <li className=\"nav-item\">\r\n                                    <a className={`nav-link ${location === \"/platform\" ? 'active' : ''}`} href=\"/platform\">Inicio</a>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <a className={`nav-link ${location === \"/platform/profile\"?'active':''}`} href=\"/platform/profile\">Perfil</a>\r\n                                </li>\r\n                                <li className=\"nav-item\">\r\n                                    <a className={`nav-link ${location === \"/platform/habits\" ? 'active' : ''}`} href=\"/platform/habits\">Mis Habitos</a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                        <ul className=\"navbar-nav profile centrado-v\">\r\n                            <li className=\"nav-item dropdown\">\r\n                                <img className=\"profile dropdown-toggle\" alt=\"mini profile\" src={props.user.photo ? props.user.photo : defaultPhoto} role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" />\r\n                                <div className=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"profileMenu\">\r\n                                    <a className=\"dropdown-item\" href=\"/platform/profile\">Mi Perfil</a>\r\n                                    <a className=\"dropdown-item\" onClick={() => fetch(\"/auth/logout\")} href=\"/login\">Cerrar Sesion</a>\r\n\r\n                                </div>\r\n                            </li>\r\n                        </ul>\r\n                    </nav>\r\n                    \r\n                    <Switch>\r\n                        {/* <Route path=\"/profile/:id\">\r\n                    <Profile user={props.user} solicitudes={solicitudes}/>\r\n                </Route> */}\r\n                        <Route path=\"/platform/profile\">\r\n                            <Profile user={props.user} habits={props.habits} pupils={props.pupils} />\r\n                        </Route>\r\n                        <Route path=\"/platform/habits\">\r\n                            <Habit user={props.user} habits={props.habits} records={props.records}/>\r\n                        </Route>\r\n                        <Route path=\"/platform/*\">\r\n                             <Redirect to=\"/platform\" />\r\n                        </Route>\r\n                        <Route path=\"/platform\">\r\n                            <Home user={props.user} habits={props.habits} records={props.records}/>\r\n                        </Route>\r\n                    </Switch>\r\n                </>\r\n            }\r\n        </>\r\n    );\r\n}\r\nBase.propTypes = {\r\n    user: PropTypes.object.isRequired,\r\n    habits: PropTypes.array.isRequired,\r\n    records: PropTypes.array.isRequired,\r\n\r\n}\r\nexport default Base;","import React from 'react';\r\nimport {\r\n    Link\r\n} from \"react-router-dom\";\r\nimport logo from \"../assets/icuymaslogo.png\";\r\nimport libreta from \"../assets/libreta.png\"\r\nfunction LandPage() {\r\n    return (\r\n        <div className=\"LandPage\">\r\n            <nav>\r\n                <a className=\"logo\" href=\"/\">\r\n                    <img className=\"centrado-v\" alt=\"Logo iCUY\" src={logo}></img>\r\n                </a>\r\n                <Link to=\"/login\">\r\n                    <button className=\"btn btn-outline btn-primary main-btn centrado-v\" href=\"/login\">\r\n                        Ingresa\r\n                </button>\r\n                </Link>\r\n            </nav>\r\n            <div className=\"intro\">\r\n                <div className=\"cover\"></div>\r\n                <div className=\"row h-100\">\r\n                    <div className=\"col-4\">\r\n                        <img className=\"centrado-v intro-img\" alt=\"Mascota iCUY\" src={libreta}></img>\r\n                    </div>\r\n                    <div className=\"col-md-8 col-12\">\r\n                        <div className=\"intro-text centrado\">\r\n                            <h2 className=\"title\">Transforma tu Vida</h2>\r\n                            <p>Organiza y guia tu vida para ser la mejor version de ti mismo</p>\r\n                            <h3>Haz de la felicidad tu habito</h3>\r\n                        <Link to=\"/login\">\r\n                            <button className=\"btn btn-primary inicio\" href=\"/login\">\r\n                                Empieza Ya\r\n                            </button>\r\n                        </Link>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"second\">\r\n                <h1 className=\"centrado-h title\">Para que iCUY</h1>\r\n                <p className=\"subtitle\">Crea habitos en Salud, Relaciones y Trabajo para ayudarte a vivir una vida mas sana, feliz y satisfactoria.</p>\r\n                <div className=\"row\">\r\n                    <div className=\"col-4\">\r\n                        <div className=\"header\">\r\n                            {/* <img alt=\"\" src={}></img> */}\r\n                            <h2>Facil de Usar</h2>\r\n                        </div>\r\n                        <div className=\"description\">\r\n                            El ciudadoso diseño de la plataforma permite a cualquier usuario usarla de la manera que desee.\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        <div className=\"header\">\r\n                            {/* <img alt=\"\" src={}></img> */}\r\n                            <h2>It's free</h2>\r\n                        </div>\r\n                        <div className=\"description\">\r\n                            El unico proposito de esta plataforma es ayudar a cualquier persona a mejorar sus vidas, por este motivo es libre de pago.\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-4\">\r\n                        <div className=\"header\">\r\n                            {/* <img alt=\"\" src={}></img> */}\r\n                            <h2>Avalado por John</h2>\r\n                        </div>\r\n                        <div className=\"description\">\r\n                            John Guerra desarrollador y mentor aprueba esta aplicación (#Aprobado).\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"third\">\r\n                <h1 className=\"title\">\r\n                    Metodología Feliz\r\n                </h1>\r\n                <div className=\"step\">\r\n                    <div className=\"number\"><div className=\"centrado fit num\">1</div></div>\r\n                    <h2 className=\"header\">\r\n                        Define Tus Habitos\r\n                    </h2>\r\n                    <p className=\"description\">\r\n                        Puedes crear todos los habitos que creas mejoraran tu vida\r\n                        <br></br>\r\n                        Salud | Relaciones | Trabajo\r\n                    </p>\r\n                </div>\r\n                <div className=\"step\">\r\n                    <div className=\"number\"><div className=\"centrado fit num\">2</div></div>\r\n                    <h2 className=\"header\">\r\n                        Registra tus Logros\r\n                    </h2>\r\n                    <p className=\"description\">\r\n                        Añade registros de tu progreso cada ves que puedas.\r\n                    </p>\r\n                </div>\r\n                <div className=\"step\">\r\n                    <div className=\"number\"><div className=\"centrado fit num\">3</div></div>\r\n                    <h2 className=\"header\">\r\n                        Dale Seguimiento a Tu Progreso\r\n                    </h2>\r\n                    <p className=\"description\">\r\n                        Puedes usar el Panel visual para observar tu avance en los habitos que te has propuesto\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <div className=\"fourth\">\r\n                <h1 className=\"title centrado-v\">Listo para Mejorar</h1>\r\n                <Link to=\"/login\">\r\n                    <button className=\"btn btn-primary inicio centrado-v\" href=\"/login\">\r\n                        Empieza Ya\r\n                    </button>\r\n                </Link>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\nexport default LandPage;","import { ToastProvider } from 'react-toast-notifications'\r\nimport React, { useState, useEffect } from 'react';\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\nimport \"./scss/styles.scss\"\r\nimport Login from \"./components/Login\"\r\nimport Base from \"./components/Base\"\r\nimport LandPage from \"./components/LandPage\"\r\n\r\nfunction App() {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [habits, setHabits] = useState([]);\r\n  const [records, setRecords] = useState([]);\r\n  const [pupils, setPupils] = useState({});\r\n  const [socket, setSocket] = useState(null);\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(\"/auth/user\")\r\n      .then(res => res.json())\r\n      .then(async usr => {\r\n        setUser(usr);\r\n        if (usr) {\r\n          let sock = new WebSocket(window.location.origin.replace(/^http/, 'ws'));\r\n          sock.onopen = () => {\r\n            setSocket(sock);\r\n          }\r\n          fetch(`/habits/filter?userEmail=${usr.email}`)\r\n            .then(res => res.json())\r\n            .then(hab => {\r\n              setHabits(hab);\r\n            });\r\n          fetch(`/records/filter?userEmail=${usr.email}`)\r\n            .then(res => res.json())\r\n            .then(rec => {\r\n              setRecords(rec);\r\n            })\r\n          if(usr.pupils){\r\n            let pups={};\r\n            let promises=[];\r\n            usr.pupils.map((pup)=>{\r\n              pups[pup]={}\r\n              console.log(\"pup\", pups)\r\n              promises.push(fetch(`/habits/filter?userEmail=${pup}`)\r\n                .then(res => res.json())\r\n                .then(hab => {\r\n                  pups[pup].habits=hab;\r\n                }));\r\n              promises.push(fetch(`/records/filter?userEmail=${pup}`)\r\n                .then(res => res.json())\r\n                .then(recs => {\r\n                  let d = new Date();\r\n                  let actualDate = `${d.getDate()}-${d.getMonth() + 1}-${d.getFullYear()}`;\r\n                  let today = recs.filter(ele => ele.date == actualDate);\r\n                  pups[pup].records=today;\r\n                }));\r\n            });\r\n            Promise.all(promises).then(()=>{\r\n              setPupils(pups);\r\n            });\r\n          }\r\n        }\r\n        setLoading(false);\r\n      });\r\n\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    console.log(\"in socket\",pupils)\r\n    if (socket)\r\n      socket.onmessage = (msg) => {\r\n        let data = JSON.parse(msg.data);\r\n        if (data.operationType == \"delete\") {\r\n          switch (data.ns.coll) {\r\n            case \"users\":\r\n              if (data.documentKey._id == user._id) {\r\n                window.location.reload()\r\n              }\r\n              break;\r\n            case \"habits\":\r\n              let habs = habits.filter(ele => ele._id != data.documentKey._id);\r\n              if (habs.length < habits.length) {\r\n                setHabits(habs);\r\n              }\r\n              else{\r\n                // let cambio = false;\r\n                // let res = pupils.map(pup=>{\r\n                //   let n = pup.filter(ele => ele._id != data.documentKey._id)\r\n                //   if (n.length < pup.length){\r\n                //     cambio = true;\r\n                //     return n;\r\n                //   }\r\n                //   return pup;\r\n                // });\r\n                // if(cambio)\r\n                //   setPupils(res);\r\n              }\r\n              break;\r\n            case \"records\":\r\n              let recs = records.filter(ele => ele._id != data.documentKey._id );\r\n              if(recs.length<records.length){\r\n                setRecords(recs);\r\n              }\r\n              break;\r\n\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n        else if (data.fullDocument.email == user.email || data.fullDocument.userEmail == user.email) {\r\n          switch (data.ns.coll) {\r\n            case \"users\":\r\n              setUser(data.fullDocument);\r\n              break;\r\n            case \"habits\":\r\n              let rhabs= habits.filter(ele => ele._id != data.documentKey._id );\r\n              rhabs.push(data.fullDocument)\r\n              setHabits(rhabs);\r\n              break;\r\n            case \"records\":\r\n              let rrecs = records.filter(ele => ele._id != data.documentKey._id);\r\n              rrecs.push(data.fullDocument);\r\n              setRecords(rrecs);\r\n              break;\r\n          \r\n            default:\r\n              break;\r\n          }\r\n        }\r\n      }\r\n  }, [user, habits, records, pupils, socket])\r\n\r\n  return (\r\n    loading ? '' :\r\n      <ToastProvider autoDismiss={true} placement ='top-center'>\r\n      <Router>\r\n        <Switch>\r\n          <Route path=\"/platform\">\r\n            {user ? <Base user={user} habits={habits} records={records} pupils={pupils} /> : <Redirect to=\"/login\" />}\r\n          </Route>\r\n          <Route path=\"/login\">\r\n            {user ? <Redirect to=\"/platform\" /> : <Login />}\r\n          </Route>\r\n          <Route path=\"/\">\r\n            <LandPage />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n    </ToastProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}